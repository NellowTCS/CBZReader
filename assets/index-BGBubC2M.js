(function(){const P=document.createElement("link").relList;if(P&&P.supports&&P.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))x(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&x(s)}).observe(document,{childList:!0,subtree:!0});function l(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerPolicy&&(a.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?a.credentials="include":d.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function x(d){if(d.ep)return;d.ep=!0;const a=l(d);fetch(d.href,a)}})();const nt={widthMode:"100%",gapless:!0,uiVisible:!0,currentFile:null,imageUrls:[],pageNames:[],currentPage:0,theme:localStorage.getItem("theme")||"system"},te=document.getElementById("file-upload"),yt=document.getElementById("reader-container"),Ft=document.getElementById("welcome-screen"),Mt=document.getElementById("loader"),ee=document.getElementById("loader-text"),Pt=document.getElementById("header"),vt=document.getElementById("main-area"),Zt=document.getElementById("toc-button"),Ht=document.getElementById("settings-button"),xt=document.getElementById("settings-panel"),wt=document.getElementById("toc-panel"),It=document.getElementById("toc-list"),Lt=document.getElementById("page-count"),Rt=document.getElementById("scroll-top");function Yt(){const g=document.documentElement;nt.theme==="dark"?g.setAttribute("data-theme","dark"):nt.theme==="light"?g.setAttribute("data-theme","light"):g.removeAttribute("data-theme"),ie()}function ie(){const g=document.getElementById("btn-theme");g.textContent=nt.theme.charAt(0).toUpperCase()+nt.theme.slice(1)}function re(){const g=["system","light","dark"],P=g.indexOf(nt.theme);nt.theme=g[(P+1)%g.length],localStorage.setItem("theme",nt.theme),Yt()}function ne(){nt.uiVisible=!nt.uiVisible,nt.uiVisible?Pt.classList.remove("hidden"):(Pt.classList.add("hidden"),xt.classList.remove("open"))}function Ot(g){ee.textContent=g,Mt.classList.add("show")}function se(){Mt.classList.remove("show")}function ae(g){It.innerHTML="";for(let P=0;P<g;P++){const l=document.createElement("button");l.className="toc-item",l.textContent=nt.pageNames[P]||`Page ${P+1}`,l.addEventListener("click",()=>{oe(P),wt.classList.remove("open")}),It.appendChild(l)}}function oe(g){const P=yt.querySelectorAll("img");P[g]&&P[g].scrollIntoView({behavior:"smooth",block:"start"})}function le(){const g=yt.querySelectorAll("img"),P=vt.scrollTop;for(let x=g.length-1;x>=0;x--)if(g[x].offsetTop<=P+vt.clientHeight/2){nt.currentPage=x;break}Lt.textContent=`${nt.currentPage+1} / ${g.length}`,It.querySelectorAll(".toc-item").forEach((x,d)=>{x.classList.toggle("current",d===nt.currentPage)})}function Gt(g){nt.widthMode=g,yt.querySelectorAll("img").forEach(d=>{d.style.maxWidth=g,d.style.width=g==="100%"?"100%":"auto"});const l=document.getElementById("btn-fit-width"),x=document.getElementById("btn-fit-original");g==="100%"?(l.classList.add("btn-active"),x.classList.remove("btn-active")):(l.classList.remove("btn-active"),x.classList.add("btn-active"))}function he(){nt.gapless=!nt.gapless;const g=yt.querySelectorAll("img"),P=nt.gapless?"0px":"20px";g.forEach(x=>{x.style.marginBottom=P});const l=document.getElementById("btn-gapless");nt.gapless?(l.textContent="On",l.classList.add("btn-active")):(l.textContent="Off",l.classList.remove("btn-active"))}var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ce(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function At(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bt={exports:{}};var Ut;function ue(){return Ut||(Ut=1,(function(g,P){(function(l){g.exports=l()})(function(){return(function l(x,d,a){function s(w,b){if(!d[w]){if(!x[w]){var v=typeof At=="function"&&At;if(!b&&v)return v(w,!0);if(i)return i(w,!0);var _=new Error("Cannot find module '"+w+"'");throw _.code="MODULE_NOT_FOUND",_}var n=d[w]={exports:{}};x[w][0].call(n.exports,function(p){var r=x[w][1][p];return s(r||p)},n,n.exports,l,x,d,a)}return d[w].exports}for(var i=typeof At=="function"&&At,h=0;h<a.length;h++)s(a[h]);return s})({1:[function(l,x,d){var a=l("./utils"),s=l("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(h){for(var w,b,v,_,n,p,r,u=[],o=0,m=h.length,k=m,z=a.getTypeOf(h)!=="string";o<h.length;)k=m-o,v=z?(w=h[o++],b=o<m?h[o++]:0,o<m?h[o++]:0):(w=h.charCodeAt(o++),b=o<m?h.charCodeAt(o++):0,o<m?h.charCodeAt(o++):0),_=w>>2,n=(3&w)<<4|b>>4,p=1<k?(15&b)<<2|v>>6:64,r=2<k?63&v:64,u.push(i.charAt(_)+i.charAt(n)+i.charAt(p)+i.charAt(r));return u.join("")},d.decode=function(h){var w,b,v,_,n,p,r=0,u=0,o="data:";if(h.substr(0,o.length)===o)throw new Error("Invalid base64 input, it looks like a data url.");var m,k=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===i.charAt(64)&&k--,h.charAt(h.length-2)===i.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=s.uint8array?new Uint8Array(0|k):new Array(0|k);r<h.length;)w=i.indexOf(h.charAt(r++))<<2|(_=i.indexOf(h.charAt(r++)))>>4,b=(15&_)<<4|(n=i.indexOf(h.charAt(r++)))>>2,v=(3&n)<<6|(p=i.indexOf(h.charAt(r++))),m[u++]=w,n!==64&&(m[u++]=b),p!==64&&(m[u++]=v);return m}},{"./support":30,"./utils":32}],2:[function(l,x,d){var a=l("./external"),s=l("./stream/DataWorker"),i=l("./stream/Crc32Probe"),h=l("./stream/DataLengthProbe");function w(b,v,_,n,p){this.compressedSize=b,this.uncompressedSize=v,this.crc32=_,this.compression=n,this.compressedContent=p}w.prototype={getContentWorker:function(){var b=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),v=this;return b.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},w.createWorkerFrom=function(b,v,_){return b.pipe(new i).pipe(new h("uncompressedSize")).pipe(v.compressWorker(_)).pipe(new h("compressedSize")).withStreamInfo("compression",v)},x.exports=w},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,x,d){var a=l("./stream/GenericWorker");d.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},d.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,x,d){var a=l("./utils"),s=(function(){for(var i,h=[],w=0;w<256;w++){i=w;for(var b=0;b<8;b++)i=1&i?3988292384^i>>>1:i>>>1;h[w]=i}return h})();x.exports=function(i,h){return i!==void 0&&i.length?a.getTypeOf(i)!=="string"?(function(w,b,v,_){var n=s,p=_+v;w^=-1;for(var r=_;r<p;r++)w=w>>>8^n[255&(w^b[r])];return-1^w})(0|h,i,i.length,0):(function(w,b,v,_){var n=s,p=_+v;w^=-1;for(var r=_;r<p;r++)w=w>>>8^n[255&(w^b.charCodeAt(r))];return-1^w})(0|h,i,i.length,0):0}},{"./utils":32}],5:[function(l,x,d){d.base64=!1,d.binary=!1,d.dir=!1,d.createFolders=!0,d.date=null,d.compression=null,d.compressionOptions=null,d.comment=null,d.unixPermissions=null,d.dosPermissions=null},{}],6:[function(l,x,d){var a=null;a=typeof Promise<"u"?Promise:l("lie"),x.exports={Promise:a}},{lie:37}],7:[function(l,x,d){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=l("pako"),i=l("./utils"),h=l("./stream/GenericWorker"),w=a?"uint8array":"array";function b(v,_){h.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=_,this.meta={}}d.magic="\b\0",i.inherits(b,h),b.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(w,v.data),!1)},b.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(_){v.push({data:_,meta:v.meta})}},d.compressWorker=function(v){return new b("Deflate",v)},d.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,x,d){function a(n,p){var r,u="";for(r=0;r<p;r++)u+=String.fromCharCode(255&n),n>>>=8;return u}function s(n,p,r,u,o,m){var k,z,E=n.file,N=n.compression,B=m!==w.utf8encode,W=i.transformTo("string",m(E.name)),O=i.transformTo("string",w.utf8encode(E.name)),H=E.comment,J=i.transformTo("string",m(H)),y=i.transformTo("string",w.utf8encode(H)),L=O.length!==E.name.length,e=y.length!==H.length,D="",Q="",j="",tt=E.dir,M=E.date,$={crc32:0,compressedSize:0,uncompressedSize:0};p&&!r||($.crc32=n.crc32,$.compressedSize=n.compressedSize,$.uncompressedSize=n.uncompressedSize);var I=0;p&&(I|=8),B||!L&&!e||(I|=2048);var A=0,K=0;tt&&(A|=16),o==="UNIX"?(K=798,A|=(function(G,at){var ct=G;return G||(ct=at?16893:33204),(65535&ct)<<16})(E.unixPermissions,tt)):(K=20,A|=(function(G){return 63&(G||0)})(E.dosPermissions)),k=M.getUTCHours(),k<<=6,k|=M.getUTCMinutes(),k<<=5,k|=M.getUTCSeconds()/2,z=M.getUTCFullYear()-1980,z<<=4,z|=M.getUTCMonth()+1,z<<=5,z|=M.getUTCDate(),L&&(Q=a(1,1)+a(b(W),4)+O,D+="up"+a(Q.length,2)+Q),e&&(j=a(1,1)+a(b(J),4)+y,D+="uc"+a(j.length,2)+j);var X="";return X+=`
\0`,X+=a(I,2),X+=N.magic,X+=a(k,2),X+=a(z,2),X+=a($.crc32,4),X+=a($.compressedSize,4),X+=a($.uncompressedSize,4),X+=a(W.length,2),X+=a(D.length,2),{fileRecord:v.LOCAL_FILE_HEADER+X+W+D,dirRecord:v.CENTRAL_FILE_HEADER+a(K,2)+X+a(J.length,2)+"\0\0\0\0"+a(A,4)+a(u,4)+W+D+J}}var i=l("../utils"),h=l("../stream/GenericWorker"),w=l("../utf8"),b=l("../crc32"),v=l("../signature");function _(n,p,r,u){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=r,this.encodeFileName=u,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(_,h),_.prototype.push=function(n){var p=n.meta.percent||0,r=this.entriesCount,u=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,h.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:r?(p+100*(r-u-1))/r:100}}))},_.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var p=this.streamFiles&&!n.file.dir;if(p){var r=s(n,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(n){this.accumulate=!1;var p=this.streamFiles&&!n.file.dir,r=s(n,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),p)this.push({data:(function(u){return v.DATA_DESCRIPTOR+a(u.crc32,4)+a(u.compressedSize,4)+a(u.uncompressedSize,4)})(n),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var n=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var r=this.bytesWritten-n,u=(function(o,m,k,z,E){var N=i.transformTo("string",E(z));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(o,2)+a(o,2)+a(m,4)+a(k,4)+a(N.length,2)+N})(this.dirRecords.length,r,n,this.zipComment,this.encodeFileName);this.push({data:u,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(n){this._sources.push(n);var p=this;return n.on("data",function(r){p.processChunk(r)}),n.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),n.on("error",function(r){p.error(r)}),this},_.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(n){var p=this._sources;if(!h.prototype.error.call(this,n))return!1;for(var r=0;r<p.length;r++)try{p[r].error(n)}catch{}return!0},_.prototype.lock=function(){h.prototype.lock.call(this);for(var n=this._sources,p=0;p<n.length;p++)n[p].lock()},x.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,x,d){var a=l("../compressions"),s=l("./ZipFileWorker");d.generateWorker=function(i,h,w){var b=new s(h.streamFiles,w,h.platform,h.encodeFileName),v=0;try{i.forEach(function(_,n){v++;var p=(function(m,k){var z=m||k,E=a[z];if(!E)throw new Error(z+" is not a valid compression method !");return E})(n.options.compression,h.compression),r=n.options.compressionOptions||h.compressionOptions||{},u=n.dir,o=n.date;n._compressWorker(p,r).withStreamInfo("file",{name:_,dir:u,date:o,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(b)}),b.entriesCount=v}catch(_){b.error(_)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,x,d){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var i in this)typeof this[i]!="function"&&(s[i]=this[i]);return s}}(a.prototype=l("./object")).loadAsync=l("./load"),a.support=l("./support"),a.defaults=l("./defaults"),a.version="3.10.1",a.loadAsync=function(s,i){return new a().loadAsync(s,i)},a.external=l("./external"),x.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,x,d){var a=l("./utils"),s=l("./external"),i=l("./utf8"),h=l("./zipEntries"),w=l("./stream/Crc32Probe"),b=l("./nodejsUtils");function v(_){return new s.Promise(function(n,p){var r=_.decompressed.getContentWorker().pipe(new w);r.on("error",function(u){p(u)}).on("end",function(){r.streamInfo.crc32!==_.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}x.exports=function(_,n){var p=this;return n=a.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),b.isNode&&b.isStream(_)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",_,!0,n.optimizedBinaryString,n.base64).then(function(r){var u=new h(n);return u.load(r),u}).then(function(r){var u=[s.Promise.resolve(r)],o=r.files;if(n.checkCRC32)for(var m=0;m<o.length;m++)u.push(v(o[m]));return s.Promise.all(u)}).then(function(r){for(var u=r.shift(),o=u.files,m=0;m<o.length;m++){var k=o[m],z=k.fileNameStr,E=a.resolve(k.fileNameStr);p.file(E,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:n.createFolders}),k.dir||(p.file(E).unsafeOriginalName=z)}return u.zipComment.length&&(p.comment=u.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,x,d){var a=l("../utils"),s=l("../stream/GenericWorker");function i(h,w){s.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(w)}a.inherits(i,s),i.prototype._bindStream=function(h){var w=this;(this._stream=h).pause(),h.on("data",function(b){w.push({data:b,meta:{percent:0}})}).on("error",function(b){w.isPaused?this.generatedError=b:w.error(b)}).on("end",function(){w.isPaused?w._upstreamEnded=!0:w.end()})},i.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},x.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,x,d){var a=l("readable-stream").Readable;function s(i,h,w){a.call(this,h),this._helper=i;var b=this;i.on("data",function(v,_){b.push(v)||b._helper.pause(),w&&w(_)}).on("error",function(v){b.emit("error",v)}).on("end",function(){b.push(null)})}l("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},x.exports=s},{"../utils":32,"readable-stream":16}],14:[function(l,x,d){x.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(l,x,d){function a(E,N,B){var W,O=i.getTypeOf(N),H=i.extend(B||{},b);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(E=o(E)),H.createFolders&&(W=u(E))&&m.call(this,W,!0);var J=O==="string"&&H.binary===!1&&H.base64===!1;B&&B.binary!==void 0||(H.binary=!J),(N instanceof v&&N.uncompressedSize===0||H.dir||!N||N.length===0)&&(H.base64=!1,H.binary=!0,N="",H.compression="STORE",O="string");var y=null;y=N instanceof v||N instanceof h?N:p.isNode&&p.isStream(N)?new r(E,N):i.prepareContent(E,N,H.binary,H.optimizedBinaryString,H.base64);var L=new _(E,y,H);this.files[E]=L}var s=l("./utf8"),i=l("./utils"),h=l("./stream/GenericWorker"),w=l("./stream/StreamHelper"),b=l("./defaults"),v=l("./compressedObject"),_=l("./zipObject"),n=l("./generate"),p=l("./nodejsUtils"),r=l("./nodejs/NodejsStreamInputAdapter"),u=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var N=E.lastIndexOf("/");return 0<N?E.substring(0,N):""},o=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},m=function(E,N){return N=N!==void 0?N:b.createFolders,E=o(E),this.files[E]||a.call(this,E,null,{dir:!0,createFolders:N}),this.files[E]};function k(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var N,B,W;for(N in this.files)W=this.files[N],(B=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&E(B,W)},filter:function(E){var N=[];return this.forEach(function(B,W){E(B,W)&&N.push(W)}),N},file:function(E,N,B){if(arguments.length!==1)return E=this.root+E,a.call(this,E,N,B),this;if(k(E)){var W=E;return this.filter(function(H,J){return!J.dir&&W.test(H)})}var O=this.files[this.root+E];return O&&!O.dir?O:null},folder:function(E){if(!E)return this;if(k(E))return this.filter(function(O,H){return H.dir&&E.test(O)});var N=this.root+E,B=m.call(this,N),W=this.clone();return W.root=B.name,W},remove:function(E){E=this.root+E;var N=this.files[E];if(N||(E.slice(-1)!=="/"&&(E+="/"),N=this.files[E]),N&&!N.dir)delete this.files[E];else for(var B=this.filter(function(O,H){return H.name.slice(0,E.length)===E}),W=0;W<B.length;W++)delete this.files[B[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var N,B={};try{if((B=i.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");i.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var W=B.comment||this.comment||"";N=n.generateWorker(this,B,W)}catch(O){(N=new h("error")).error(O)}return new w(N,B.type||"string",B.mimeType)},generateAsync:function(E,N){return this.generateInternalStream(E).accumulate(N)},generateNodeStream:function(E,N){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(N)}};x.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,x,d){x.exports=l("stream")},{stream:void 0}],17:[function(l,x,d){var a=l("./DataReader");function s(i){a.call(this,i);for(var h=0;h<this.data.length;h++)i[h]=255&i[h]}l("../utils").inherits(s,a),s.prototype.byteAt=function(i){return this.data[this.zero+i]},s.prototype.lastIndexOfSignature=function(i){for(var h=i.charCodeAt(0),w=i.charCodeAt(1),b=i.charCodeAt(2),v=i.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===h&&this.data[_+1]===w&&this.data[_+2]===b&&this.data[_+3]===v)return _-this.zero;return-1},s.prototype.readAndCheckSignature=function(i){var h=i.charCodeAt(0),w=i.charCodeAt(1),b=i.charCodeAt(2),v=i.charCodeAt(3),_=this.readData(4);return h===_[0]&&w===_[1]&&b===_[2]&&v===_[3]},s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,h},x.exports=s},{"../utils":32,"./DataReader":18}],18:[function(l,x,d){var a=l("../utils");function s(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var h,w=0;for(this.checkOffset(i),h=this.index+i-1;h>=this.index;h--)w=(w<<8)+this.byteAt(h);return this.index+=i,w},readString:function(i){return a.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},x.exports=s},{"../utils":32}],19:[function(l,x,d){var a=l("./Uint8ArrayReader");function s(i){a.call(this,i)}l("../utils").inherits(s,a),s.prototype.readData=function(i){this.checkOffset(i);var h=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,h},x.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,x,d){var a=l("./DataReader");function s(i){a.call(this,i)}l("../utils").inherits(s,a),s.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},s.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},s.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},s.prototype.readData=function(i){this.checkOffset(i);var h=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,h},x.exports=s},{"../utils":32,"./DataReader":18}],21:[function(l,x,d){var a=l("./ArrayReader");function s(i){a.call(this,i)}l("../utils").inherits(s,a),s.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,h},x.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(l,x,d){var a=l("../utils"),s=l("../support"),i=l("./ArrayReader"),h=l("./StringReader"),w=l("./NodeBufferReader"),b=l("./Uint8ArrayReader");x.exports=function(v){var _=a.getTypeOf(v);return a.checkSupport(_),_!=="string"||s.uint8array?_==="nodebuffer"?new w(v):s.uint8array?new b(a.transformTo("uint8array",v)):new i(a.transformTo("array",v)):new h(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,x,d){d.LOCAL_FILE_HEADER="PK",d.CENTRAL_FILE_HEADER="PK",d.CENTRAL_DIRECTORY_END="PK",d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",d.ZIP64_CENTRAL_DIRECTORY_END="PK",d.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,x,d){var a=l("./GenericWorker"),s=l("../utils");function i(h){a.call(this,"ConvertWorker to "+h),this.destType=h}s.inherits(i,a),i.prototype.processChunk=function(h){this.push({data:s.transformTo(this.destType,h.data),meta:h.meta})},x.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(l,x,d){var a=l("./GenericWorker"),s=l("../crc32");function i(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(i,a),i.prototype.processChunk=function(h){this.streamInfo.crc32=s(h.data,this.streamInfo.crc32||0),this.push(h)},x.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,x,d){var a=l("../utils"),s=l("./GenericWorker");function i(h){s.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}a.inherits(i,s),i.prototype.processChunk=function(h){if(h){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+h.data.length}s.prototype.processChunk.call(this,h)},x.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(l,x,d){var a=l("../utils"),s=l("./GenericWorker");function i(h){s.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(b){w.dataIsReady=!0,w.data=b,w.max=b&&b.length||0,w.type=a.getTypeOf(b),w.isPaused||w._tickAndRepeat()},function(b){w.error(b)})}a.inherits(i,s),i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,w=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,w);break;case"uint8array":h=this.data.subarray(this.index,w);break;case"array":case"nodebuffer":h=this.data.slice(this.index,w)}return this.index=w,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},x.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(l,x,d){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,i){return this._listeners[s].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,i){if(this._listeners[s])for(var h=0;h<this._listeners[s].length;h++)this._listeners[s][h].call(this,i)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var i=this;return s.on("data",function(h){i.processChunk(h)}),s.on("end",function(){i.end()}),s.on("error",function(h){i.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,i){return this.extraStreamInfo[s]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},x.exports=a},{}],29:[function(l,x,d){var a=l("../utils"),s=l("./ConvertWorker"),i=l("./GenericWorker"),h=l("../base64"),w=l("../support"),b=l("../external"),v=null;if(w.nodestream)try{v=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(p,r){return new b.Promise(function(u,o){var m=[],k=p._internalType,z=p._outputType,E=p._mimeType;p.on("data",function(N,B){m.push(N),r&&r(B)}).on("error",function(N){m=[],o(N)}).on("end",function(){try{var N=(function(B,W,O){switch(B){case"blob":return a.newBlob(a.transformTo("arraybuffer",W),O);case"base64":return h.encode(W);default:return a.transformTo(B,W)}})(z,(function(B,W){var O,H=0,J=null,y=0;for(O=0;O<W.length;O++)y+=W[O].length;switch(B){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(J=new Uint8Array(y),O=0;O<W.length;O++)J.set(W[O],H),H+=W[O].length;return J;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+B+"'")}})(k,m),E);u(N)}catch(B){o(B)}m=[]}).resume()})}function n(p,r,u){var o=r;switch(r){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=r,this._mimeType=u,a.checkSupport(o),this._worker=p.pipe(new s(o)),p.lock()}catch(m){this._worker=new i("error"),this._worker.error(m)}}n.prototype={accumulate:function(p){return _(this,p)},on:function(p,r){var u=this;return p==="data"?this._worker.on(p,function(o){r.call(u,o.data,o.meta)}):this._worker.on(p,function(){a.delay(r,arguments,u)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},p)}},x.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,x,d){if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",d.nodebuffer=typeof Buffer<"u",d.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")d.blob=!1;else{var a=new ArrayBuffer(0);try{d.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),d.blob=s.getBlob("application/zip").size===0}catch{d.blob=!1}}}try{d.nodestream=!!l("readable-stream").Readable}catch{d.nodestream=!1}},{"readable-stream":16}],31:[function(l,x,d){for(var a=l("./utils"),s=l("./support"),i=l("./nodejsUtils"),h=l("./stream/GenericWorker"),w=new Array(256),b=0;b<256;b++)w[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;w[254]=w[254]=1;function v(){h.call(this,"utf-8 decode"),this.leftOver=null}function _(){h.call(this,"utf-8 encode")}d.utf8encode=function(n){return s.nodebuffer?i.newBufferFrom(n,"utf-8"):(function(p){var r,u,o,m,k,z=p.length,E=0;for(m=0;m<z;m++)(64512&(u=p.charCodeAt(m)))==55296&&m+1<z&&(64512&(o=p.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(o-56320),m++),E+=u<128?1:u<2048?2:u<65536?3:4;for(r=s.uint8array?new Uint8Array(E):new Array(E),m=k=0;k<E;m++)(64512&(u=p.charCodeAt(m)))==55296&&m+1<z&&(64512&(o=p.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(o-56320),m++),u<128?r[k++]=u:(u<2048?r[k++]=192|u>>>6:(u<65536?r[k++]=224|u>>>12:(r[k++]=240|u>>>18,r[k++]=128|u>>>12&63),r[k++]=128|u>>>6&63),r[k++]=128|63&u);return r})(n)},d.utf8decode=function(n){return s.nodebuffer?a.transformTo("nodebuffer",n).toString("utf-8"):(function(p){var r,u,o,m,k=p.length,z=new Array(2*k);for(r=u=0;r<k;)if((o=p[r++])<128)z[u++]=o;else if(4<(m=w[o]))z[u++]=65533,r+=m-1;else{for(o&=m===2?31:m===3?15:7;1<m&&r<k;)o=o<<6|63&p[r++],m--;1<m?z[u++]=65533:o<65536?z[u++]=o:(o-=65536,z[u++]=55296|o>>10&1023,z[u++]=56320|1023&o)}return z.length!==u&&(z.subarray?z=z.subarray(0,u):z.length=u),a.applyFromCharCode(z)})(n=a.transformTo(s.uint8array?"uint8array":"array",n))},a.inherits(v,h),v.prototype.processChunk=function(n){var p=a.transformTo(s.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var r=p;(p=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),p.set(r,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var u=(function(m,k){var z;for((k=k||m.length)>m.length&&(k=m.length),z=k-1;0<=z&&(192&m[z])==128;)z--;return z<0||z===0?k:z+w[m[z]]>k?z:k})(p),o=p;u!==p.length&&(s.uint8array?(o=p.subarray(0,u),this.leftOver=p.subarray(u,p.length)):(o=p.slice(0,u),this.leftOver=p.slice(u,p.length))),this.push({data:d.utf8decode(o),meta:n.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:d.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},d.Utf8DecodeWorker=v,a.inherits(_,h),_.prototype.processChunk=function(n){this.push({data:d.utf8encode(n.data),meta:n.meta})},d.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,x,d){var a=l("./support"),s=l("./base64"),i=l("./nodejsUtils"),h=l("./external");function w(r){return r}function b(r,u){for(var o=0;o<r.length;++o)u[o]=255&r.charCodeAt(o);return u}l("setimmediate"),d.newBlob=function(r,u){d.checkSupport("blob");try{return new Blob([r],{type:u})}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(r),o.getBlob(u)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(r,u,o){var m=[],k=0,z=r.length;if(z<=o)return String.fromCharCode.apply(null,r);for(;k<z;)u==="array"||u==="nodebuffer"?m.push(String.fromCharCode.apply(null,r.slice(k,Math.min(k+o,z)))):m.push(String.fromCharCode.apply(null,r.subarray(k,Math.min(k+o,z)))),k+=o;return m.join("")},stringifyByChar:function(r){for(var u="",o=0;o<r.length;o++)u+=String.fromCharCode(r[o]);return u},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}})()}};function _(r){var u=65536,o=d.getTypeOf(r),m=!0;if(o==="uint8array"?m=v.applyCanBeUsed.uint8array:o==="nodebuffer"&&(m=v.applyCanBeUsed.nodebuffer),m)for(;1<u;)try{return v.stringifyByChunk(r,o,u)}catch{u=Math.floor(u/2)}return v.stringifyByChar(r)}function n(r,u){for(var o=0;o<r.length;o++)u[o]=r[o];return u}d.applyFromCharCode=_;var p={};p.string={string:w,array:function(r){return b(r,new Array(r.length))},arraybuffer:function(r){return p.string.uint8array(r).buffer},uint8array:function(r){return b(r,new Uint8Array(r.length))},nodebuffer:function(r){return b(r,i.allocBuffer(r.length))}},p.array={string:_,array:w,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return i.newBufferFrom(r)}},p.arraybuffer={string:function(r){return _(new Uint8Array(r))},array:function(r){return n(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:w,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return i.newBufferFrom(new Uint8Array(r))}},p.uint8array={string:_,array:function(r){return n(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:w,nodebuffer:function(r){return i.newBufferFrom(r)}},p.nodebuffer={string:_,array:function(r){return n(r,new Array(r.length))},arraybuffer:function(r){return p.nodebuffer.uint8array(r).buffer},uint8array:function(r){return n(r,new Uint8Array(r.length))},nodebuffer:w},d.transformTo=function(r,u){if(u=u||"",!r)return u;d.checkSupport(r);var o=d.getTypeOf(u);return p[o][r](u)},d.resolve=function(r){for(var u=r.split("/"),o=[],m=0;m<u.length;m++){var k=u[m];k==="."||k===""&&m!==0&&m!==u.length-1||(k===".."?o.pop():o.push(k))}return o.join("/")},d.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":a.nodebuffer&&i.isBuffer(r)?"nodebuffer":a.uint8array&&r instanceof Uint8Array?"uint8array":a.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(r){if(!a[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(r){var u,o,m="";for(o=0;o<(r||"").length;o++)m+="\\x"+((u=r.charCodeAt(o))<16?"0":"")+u.toString(16).toUpperCase();return m},d.delay=function(r,u,o){setImmediate(function(){r.apply(o||null,u||[])})},d.inherits=function(r,u){function o(){}o.prototype=u.prototype,r.prototype=new o},d.extend=function(){var r,u,o={};for(r=0;r<arguments.length;r++)for(u in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],u)&&o[u]===void 0&&(o[u]=arguments[r][u]);return o},d.prepareContent=function(r,u,o,m,k){return h.Promise.resolve(u).then(function(z){return a.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new h.Promise(function(E,N){var B=new FileReader;B.onload=function(W){E(W.target.result)},B.onerror=function(W){N(W.target.error)},B.readAsArrayBuffer(z)}):z}).then(function(z){var E=d.getTypeOf(z);return E?(E==="arraybuffer"?z=d.transformTo("uint8array",z):E==="string"&&(k?z=s.decode(z):o&&m!==!0&&(z=(function(N){return b(N,a.uint8array?new Uint8Array(N.length):new Array(N.length))})(z))),z):h.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,x,d){var a=l("./reader/readerFor"),s=l("./utils"),i=l("./signature"),h=l("./zipEntry"),w=l("./support");function b(v){this.files=[],this.loadOptions=v}b.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(_)+", expected "+s.pretty(v)+")")}},isSignature:function(v,_){var n=this.reader.index;this.reader.setIndex(v);var p=this.reader.readString(4)===_;return this.reader.setIndex(n),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),_=w.uint8array?"uint8array":"array",n=s.transformTo(_,v);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,_,n,p=this.zip64EndOfCentralSize-44;0<p;)v=this.reader.readInt(2),_=this.reader.readInt(4),n=this.reader.readData(_),this.zip64ExtensibleData[v]={id:v,length:_,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,_;for(v=0;v<this.files.length;v++)_=this.files[v],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(v=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var _=v;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var p=_-n;if(0<p)this.isSignature(_,i.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(v){this.reader=a(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},x.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,x,d){var a=l("./reader/readerFor"),s=l("./utils"),i=l("./compressedObject"),h=l("./crc32"),w=l("./utf8"),b=l("./compressions"),v=l("./support");function _(n,p){this.options=n,this.loadOptions=p}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var p,r;if(n.skip(22),this.fileNameLength=n.readInt(2),r=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=(function(u){for(var o in b)if(Object.prototype.hasOwnProperty.call(b,o)&&b[o].magic===u)return b[o];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,p,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var p=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(p),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var p,r,u,o=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<o;)p=n.readInt(2),r=n.readInt(2),u=n.readData(r),this.extraFields[p]={id:p,length:r,value:u};n.setIndex(o)},handleUTF8:function(){var n=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var r=s.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var u=this.findExtraFieldUnicodeComment();if(u!==null)this.fileCommentStr=u;else{var o=s.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var p=a(n.value);return p.readInt(1)!==1||h(this.fileName)!==p.readInt(4)?null:w.utf8decode(p.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var p=a(n.value);return p.readInt(1)!==1||h(this.fileComment)!==p.readInt(4)?null:w.utf8decode(p.readData(n.length-5))}return null}},x.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,x,d){function a(p,r,u){this.name=p,this.dir=u.dir,this.date=u.date,this.comment=u.comment,this.unixPermissions=u.unixPermissions,this.dosPermissions=u.dosPermissions,this._data=r,this._dataBinary=u.binary,this.options={compression:u.compression,compressionOptions:u.compressionOptions}}var s=l("./stream/StreamHelper"),i=l("./stream/DataWorker"),h=l("./utf8"),w=l("./compressedObject"),b=l("./stream/GenericWorker");a.prototype={internalStream:function(p){var r=null,u="string";try{if(!p)throw new Error("No output type specified.");var o=(u=p.toLowerCase())==="string"||u==="text";u!=="binarystring"&&u!=="text"||(u="string"),r=this._decompressWorker();var m=!this._dataBinary;m&&!o&&(r=r.pipe(new h.Utf8EncodeWorker)),!m&&o&&(r=r.pipe(new h.Utf8DecodeWorker))}catch(k){(r=new b("error")).error(k)}return new s(r,u,"")},async:function(p,r){return this.internalStream(p).accumulate(r)},nodeStream:function(p,r){return this.internalStream(p||"nodebuffer").toNodejsStream(r)},_compressWorker:function(p,r){if(this._data instanceof w&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var u=this._decompressWorker();return this._dataBinary||(u=u.pipe(new h.Utf8EncodeWorker)),w.createWorkerFrom(u,p,r)},_decompressWorker:function(){return this._data instanceof w?this._data.getContentWorker():this._data instanceof b?this._data:new i(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<v.length;n++)a.prototype[v[n]]=_;x.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,x,d){(function(a){var s,i,h=a.MutationObserver||a.WebKitMutationObserver;if(h){var w=0,b=new h(p),v=a.document.createTextNode("");b.observe(v,{characterData:!0}),s=function(){v.data=w=++w%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var r=a.document.createElement("script");r.onreadystatechange=function(){p(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},a.document.documentElement.appendChild(r)}:function(){setTimeout(p,0)};else{var _=new a.MessageChannel;_.port1.onmessage=p,s=function(){_.port2.postMessage(0)}}var n=[];function p(){var r,u;i=!0;for(var o=n.length;o;){for(u=n,n=[],r=-1;++r<o;)u[r]();o=n.length}i=!1}x.exports=function(r){n.push(r)!==1||i||s()}}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,x,d){var a=l("immediate");function s(){}var i={},h=["REJECTED"],w=["FULFILLED"],b=["PENDING"];function v(o){if(typeof o!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,o!==s&&r(this,o)}function _(o,m,k){this.promise=o,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function n(o,m,k){a(function(){var z;try{z=m(k)}catch(E){return i.reject(o,E)}z===o?i.reject(o,new TypeError("Cannot resolve promise with itself")):i.resolve(o,z)})}function p(o){var m=o&&o.then;if(o&&(typeof o=="object"||typeof o=="function")&&typeof m=="function")return function(){m.apply(o,arguments)}}function r(o,m){var k=!1;function z(B){k||(k=!0,i.reject(o,B))}function E(B){k||(k=!0,i.resolve(o,B))}var N=u(function(){m(E,z)});N.status==="error"&&z(N.value)}function u(o,m){var k={};try{k.value=o(m),k.status="success"}catch(z){k.status="error",k.value=z}return k}(x.exports=v).prototype.finally=function(o){if(typeof o!="function")return this;var m=this.constructor;return this.then(function(k){return m.resolve(o()).then(function(){return k})},function(k){return m.resolve(o()).then(function(){throw k})})},v.prototype.catch=function(o){return this.then(null,o)},v.prototype.then=function(o,m){if(typeof o!="function"&&this.state===w||typeof m!="function"&&this.state===h)return this;var k=new this.constructor(s);return this.state!==b?n(k,this.state===w?o:m,this.outcome):this.queue.push(new _(k,o,m)),k},_.prototype.callFulfilled=function(o){i.resolve(this.promise,o)},_.prototype.otherCallFulfilled=function(o){n(this.promise,this.onFulfilled,o)},_.prototype.callRejected=function(o){i.reject(this.promise,o)},_.prototype.otherCallRejected=function(o){n(this.promise,this.onRejected,o)},i.resolve=function(o,m){var k=u(p,m);if(k.status==="error")return i.reject(o,k.value);var z=k.value;if(z)r(o,z);else{o.state=w,o.outcome=m;for(var E=-1,N=o.queue.length;++E<N;)o.queue[E].callFulfilled(m)}return o},i.reject=function(o,m){o.state=h,o.outcome=m;for(var k=-1,z=o.queue.length;++k<z;)o.queue[k].callRejected(m);return o},v.resolve=function(o){return o instanceof this?o:i.resolve(new this(s),o)},v.reject=function(o){var m=new this(s);return i.reject(m,o)},v.all=function(o){var m=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=o.length,z=!1;if(!k)return this.resolve([]);for(var E=new Array(k),N=0,B=-1,W=new this(s);++B<k;)O(o[B],B);return W;function O(H,J){m.resolve(H).then(function(y){E[J]=y,++N!==k||z||(z=!0,i.resolve(W,E))},function(y){z||(z=!0,i.reject(W,y))})}},v.race=function(o){var m=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=o.length,z=!1;if(!k)return this.resolve([]);for(var E=-1,N=new this(s);++E<k;)B=o[E],m.resolve(B).then(function(W){z||(z=!0,i.resolve(N,W))},function(W){z||(z=!0,i.reject(N,W))});var B;return N}},{immediate:36}],38:[function(l,x,d){var a={};(0,l("./lib/utils/common").assign)(a,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),x.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,x,d){var a=l("./zlib/deflate"),s=l("./utils/common"),i=l("./utils/strings"),h=l("./zlib/messages"),w=l("./zlib/zstream"),b=Object.prototype.toString,v=0,_=-1,n=0,p=8;function r(o){if(!(this instanceof r))return new r(o);this.options=s.assign({level:_,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},o||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(k!==v)throw new Error(h[k]);if(m.header&&a.deflateSetHeader(this.strm,m.header),m.dictionary){var z;if(z=typeof m.dictionary=="string"?i.string2buf(m.dictionary):b.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(k=a.deflateSetDictionary(this.strm,z))!==v)throw new Error(h[k]);this._dict_set=!0}}function u(o,m){var k=new r(m);if(k.push(o,!0),k.err)throw k.msg||h[k.err];return k.result}r.prototype.push=function(o,m){var k,z,E=this.strm,N=this.options.chunkSize;if(this.ended)return!1;z=m===~~m?m:m===!0?4:0,typeof o=="string"?E.input=i.string2buf(o):b.call(o)==="[object ArrayBuffer]"?E.input=new Uint8Array(o):E.input=o,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(N),E.next_out=0,E.avail_out=N),(k=a.deflate(E,z))!==1&&k!==v)return this.onEnd(k),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&k!==1);return z===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===v):z!==2||(this.onEnd(v),!(E.avail_out=0))},r.prototype.onData=function(o){this.chunks.push(o)},r.prototype.onEnd=function(o){o===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},d.Deflate=r,d.deflate=u,d.deflateRaw=function(o,m){return(m=m||{}).raw=!0,u(o,m)},d.gzip=function(o,m){return(m=m||{}).gzip=!0,u(o,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,x,d){var a=l("./zlib/inflate"),s=l("./utils/common"),i=l("./utils/strings"),h=l("./zlib/constants"),w=l("./zlib/messages"),b=l("./zlib/zstream"),v=l("./zlib/gzheader"),_=Object.prototype.toString;function n(r){if(!(this instanceof n))return new n(r);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},r||{});var u=this.options;u.raw&&0<=u.windowBits&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),!(0<=u.windowBits&&u.windowBits<16)||r&&r.windowBits||(u.windowBits+=32),15<u.windowBits&&u.windowBits<48&&(15&u.windowBits)==0&&(u.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var o=a.inflateInit2(this.strm,u.windowBits);if(o!==h.Z_OK)throw new Error(w[o]);this.header=new v,a.inflateGetHeader(this.strm,this.header)}function p(r,u){var o=new n(u);if(o.push(r,!0),o.err)throw o.msg||w[o.err];return o.result}n.prototype.push=function(r,u){var o,m,k,z,E,N,B=this.strm,W=this.options.chunkSize,O=this.options.dictionary,H=!1;if(this.ended)return!1;m=u===~~u?u:u===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof r=="string"?B.input=i.binstring2buf(r):_.call(r)==="[object ArrayBuffer]"?B.input=new Uint8Array(r):B.input=r,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new s.Buf8(W),B.next_out=0,B.avail_out=W),(o=a.inflate(B,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&O&&(N=typeof O=="string"?i.string2buf(O):_.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,o=a.inflateSetDictionary(this.strm,N)),o===h.Z_BUF_ERROR&&H===!0&&(o=h.Z_OK,H=!1),o!==h.Z_STREAM_END&&o!==h.Z_OK)return this.onEnd(o),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&o!==h.Z_STREAM_END&&(B.avail_in!==0||m!==h.Z_FINISH&&m!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=i.utf8border(B.output,B.next_out),z=B.next_out-k,E=i.buf2string(B.output,k),B.next_out=z,B.avail_out=W-z,z&&s.arraySet(B.output,B.output,k,z,0),this.onData(E)):this.onData(s.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(H=!0)}while((0<B.avail_in||B.avail_out===0)&&o!==h.Z_STREAM_END);return o===h.Z_STREAM_END&&(m=h.Z_FINISH),m===h.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===h.Z_OK):m!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(B.avail_out=0))},n.prototype.onData=function(r){this.chunks.push(r)},n.prototype.onEnd=function(r){r===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},d.Inflate=n,d.inflate=p,d.inflateRaw=function(r,u){return(u=u||{}).raw=!0,p(r,u)},d.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,x,d){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";d.assign=function(h){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var b=w.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var v in b)b.hasOwnProperty(v)&&(h[v]=b[v])}}return h},d.shrinkBuf=function(h,w){return h.length===w?h:h.subarray?h.subarray(0,w):(h.length=w,h)};var s={arraySet:function(h,w,b,v,_){if(w.subarray&&h.subarray)h.set(w.subarray(b,b+v),_);else for(var n=0;n<v;n++)h[_+n]=w[b+n]},flattenChunks:function(h){var w,b,v,_,n,p;for(w=v=0,b=h.length;w<b;w++)v+=h[w].length;for(p=new Uint8Array(v),w=_=0,b=h.length;w<b;w++)n=h[w],p.set(n,_),_+=n.length;return p}},i={arraySet:function(h,w,b,v,_){for(var n=0;n<v;n++)h[_+n]=w[b+n]},flattenChunks:function(h){return[].concat.apply([],h)}};d.setTyped=function(h){h?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,s)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,i))},d.setTyped(a)},{}],42:[function(l,x,d){var a=l("./common"),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var h=new a.Buf8(256),w=0;w<256;w++)h[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function b(v,_){if(_<65537&&(v.subarray&&i||!v.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(v,_));for(var n="",p=0;p<_;p++)n+=String.fromCharCode(v[p]);return n}h[254]=h[254]=1,d.string2buf=function(v){var _,n,p,r,u,o=v.length,m=0;for(r=0;r<o;r++)(64512&(n=v.charCodeAt(r)))==55296&&r+1<o&&(64512&(p=v.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),r++),m+=n<128?1:n<2048?2:n<65536?3:4;for(_=new a.Buf8(m),r=u=0;u<m;r++)(64512&(n=v.charCodeAt(r)))==55296&&r+1<o&&(64512&(p=v.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),r++),n<128?_[u++]=n:(n<2048?_[u++]=192|n>>>6:(n<65536?_[u++]=224|n>>>12:(_[u++]=240|n>>>18,_[u++]=128|n>>>12&63),_[u++]=128|n>>>6&63),_[u++]=128|63&n);return _},d.buf2binstring=function(v){return b(v,v.length)},d.binstring2buf=function(v){for(var _=new a.Buf8(v.length),n=0,p=_.length;n<p;n++)_[n]=v.charCodeAt(n);return _},d.buf2string=function(v,_){var n,p,r,u,o=_||v.length,m=new Array(2*o);for(n=p=0;n<o;)if((r=v[n++])<128)m[p++]=r;else if(4<(u=h[r]))m[p++]=65533,n+=u-1;else{for(r&=u===2?31:u===3?15:7;1<u&&n<o;)r=r<<6|63&v[n++],u--;1<u?m[p++]=65533:r<65536?m[p++]=r:(r-=65536,m[p++]=55296|r>>10&1023,m[p++]=56320|1023&r)}return b(m,p)},d.utf8border=function(v,_){var n;for((_=_||v.length)>v.length&&(_=v.length),n=_-1;0<=n&&(192&v[n])==128;)n--;return n<0||n===0?_:n+h[v[n]]>_?n:_}},{"./common":41}],43:[function(l,x,d){x.exports=function(a,s,i,h){for(var w=65535&a|0,b=a>>>16&65535|0,v=0;i!==0;){for(i-=v=2e3<i?2e3:i;b=b+(w=w+s[h++]|0)|0,--v;);w%=65521,b%=65521}return w|b<<16|0}},{}],44:[function(l,x,d){x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,x,d){var a=(function(){for(var s,i=[],h=0;h<256;h++){s=h;for(var w=0;w<8;w++)s=1&s?3988292384^s>>>1:s>>>1;i[h]=s}return i})();x.exports=function(s,i,h,w){var b=a,v=w+h;s^=-1;for(var _=w;_<v;_++)s=s>>>8^b[255&(s^i[_])];return-1^s}},{}],46:[function(l,x,d){var a,s=l("../utils/common"),i=l("./trees"),h=l("./adler32"),w=l("./crc32"),b=l("./messages"),v=0,_=4,n=0,p=-2,r=-1,u=4,o=2,m=8,k=9,z=286,E=30,N=19,B=2*z+1,W=15,O=3,H=258,J=H+O+1,y=42,L=113,e=1,D=2,Q=3,j=4;function tt(t,R){return t.msg=b[R],R}function M(t){return(t<<1)-(4<t?9:0)}function $(t){for(var R=t.length;0<=--R;)t[R]=0}function I(t){var R=t.state,T=R.pending;T>t.avail_out&&(T=t.avail_out),T!==0&&(s.arraySet(t.output,R.pending_buf,R.pending_out,T,t.next_out),t.next_out+=T,R.pending_out+=T,t.total_out+=T,t.avail_out-=T,R.pending-=T,R.pending===0&&(R.pending_out=0))}function A(t,R){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,R),t.block_start=t.strstart,I(t.strm)}function K(t,R){t.pending_buf[t.pending++]=R}function X(t,R){t.pending_buf[t.pending++]=R>>>8&255,t.pending_buf[t.pending++]=255&R}function G(t,R){var T,f,c=t.max_chain_length,S=t.strstart,F=t.prev_length,U=t.nice_match,C=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,Z=t.window,V=t.w_mask,Y=t.prev,q=t.strstart+H,st=Z[S+F-1],it=Z[S+F];t.prev_length>=t.good_match&&(c>>=2),U>t.lookahead&&(U=t.lookahead);do if(Z[(T=R)+F]===it&&Z[T+F-1]===st&&Z[T]===Z[S]&&Z[++T]===Z[S+1]){S+=2,T++;do;while(Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&Z[++S]===Z[++T]&&S<q);if(f=H-(q-S),S=q-H,F<f){if(t.match_start=R,U<=(F=f))break;st=Z[S+F-1],it=Z[S+F]}}while((R=Y[R&V])>C&&--c!=0);return F<=t.lookahead?F:t.lookahead}function at(t){var R,T,f,c,S,F,U,C,Z,V,Y=t.w_size;do{if(c=t.window_size-t.lookahead-t.strstart,t.strstart>=Y+(Y-J)){for(s.arraySet(t.window,t.window,Y,Y,0),t.match_start-=Y,t.strstart-=Y,t.block_start-=Y,R=T=t.hash_size;f=t.head[--R],t.head[R]=Y<=f?f-Y:0,--T;);for(R=T=Y;f=t.prev[--R],t.prev[R]=Y<=f?f-Y:0,--T;);c+=Y}if(t.strm.avail_in===0)break;if(F=t.strm,U=t.window,C=t.strstart+t.lookahead,Z=c,V=void 0,V=F.avail_in,Z<V&&(V=Z),T=V===0?0:(F.avail_in-=V,s.arraySet(U,F.input,F.next_in,V,C),F.state.wrap===1?F.adler=h(F.adler,U,V,C):F.state.wrap===2&&(F.adler=w(F.adler,U,V,C)),F.next_in+=V,F.total_in+=V,V),t.lookahead+=T,t.lookahead+t.insert>=O)for(S=t.strstart-t.insert,t.ins_h=t.window[S],t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+O-1])&t.hash_mask,t.prev[S&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=S,S++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<J&&t.strm.avail_in!==0)}function ct(t,R){for(var T,f;;){if(t.lookahead<J){if(at(t),t.lookahead<J&&R===v)return e;if(t.lookahead===0)break}if(T=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),T!==0&&t.strstart-T<=t.w_size-J&&(t.match_length=G(t,T)),t.match_length>=O)if(f=i._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else f=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(f&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<O-1?t.strstart:O-1,R===_?(A(t,!0),t.strm.avail_out===0?Q:j):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:D}function et(t,R){for(var T,f,c;;){if(t.lookahead<J){if(at(t),t.lookahead<J&&R===v)return e;if(t.lookahead===0)break}if(T=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,T!==0&&t.prev_length<t.max_lazy_match&&t.strstart-T<=t.w_size-J&&(t.match_length=G(t,T),t.match_length<=5&&(t.strategy===1||t.match_length===O&&4096<t.strstart-t.match_start)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){for(c=t.strstart+t.lookahead-O,f=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=c&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=O-1,t.strstart++,f&&(A(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((f=i._tr_tally(t,0,t.window[t.strstart-1]))&&A(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(f=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,R===_?(A(t,!0),t.strm.avail_out===0?Q:j):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:D}function rt(t,R,T,f,c){this.good_length=t,this.max_lazy=R,this.nice_length=T,this.max_chain=f,this.func=c}function ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*B),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*z+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ot(t){var R;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=o,(R=t.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?y:L,t.adler=R.wrap===2?0:1,R.last_flush=v,i._tr_init(R),n):tt(t,p)}function ft(t){var R=ot(t);return R===n&&(function(T){T.window_size=2*T.w_size,$(T.head),T.max_lazy_match=a[T.level].max_lazy,T.good_match=a[T.level].good_length,T.nice_match=a[T.level].nice_length,T.max_chain_length=a[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=O-1,T.match_available=0,T.ins_h=0})(t.state),R}function dt(t,R,T,f,c,S){if(!t)return p;var F=1;if(R===r&&(R=6),f<0?(F=0,f=-f):15<f&&(F=2,f-=16),c<1||k<c||T!==m||f<8||15<f||R<0||9<R||S<0||u<S)return tt(t,p);f===8&&(f=9);var U=new ht;return(t.state=U).strm=t,U.wrap=F,U.gzhead=null,U.w_bits=f,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=c+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+O-1)/O),U.window=new s.Buf8(2*U.w_size),U.head=new s.Buf16(U.hash_size),U.prev=new s.Buf16(U.w_size),U.lit_bufsize=1<<c+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new s.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=R,U.strategy=S,U.method=T,ft(t)}a=[new rt(0,0,0,0,function(t,R){var T=65535;for(T>t.pending_buf_size-5&&(T=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),t.lookahead===0&&R===v)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var f=t.block_start+T;if((t.strstart===0||t.strstart>=f)&&(t.lookahead=t.strstart-f,t.strstart=f,A(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-J&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=0,R===_?(A(t,!0),t.strm.avail_out===0?Q:j):(t.strstart>t.block_start&&(A(t,!1),t.strm.avail_out),e)}),new rt(4,4,8,4,ct),new rt(4,5,16,8,ct),new rt(4,6,32,32,ct),new rt(4,4,16,16,et),new rt(8,16,32,32,et),new rt(8,16,128,128,et),new rt(8,32,128,256,et),new rt(32,128,258,1024,et),new rt(32,258,258,4096,et)],d.deflateInit=function(t,R){return dt(t,R,m,15,8,0)},d.deflateInit2=dt,d.deflateReset=ft,d.deflateResetKeep=ot,d.deflateSetHeader=function(t,R){return t&&t.state?t.state.wrap!==2?p:(t.state.gzhead=R,n):p},d.deflate=function(t,R){var T,f,c,S;if(!t||!t.state||5<R||R<0)return t?tt(t,p):p;if(f=t.state,!t.output||!t.input&&t.avail_in!==0||f.status===666&&R!==_)return tt(t,t.avail_out===0?-5:p);if(f.strm=t,T=f.last_flush,f.last_flush=R,f.status===y)if(f.wrap===2)t.adler=0,K(f,31),K(f,139),K(f,8),f.gzhead?(K(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),K(f,255&f.gzhead.time),K(f,f.gzhead.time>>8&255),K(f,f.gzhead.time>>16&255),K(f,f.gzhead.time>>24&255),K(f,f.level===9?2:2<=f.strategy||f.level<2?4:0),K(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(K(f,255&f.gzhead.extra.length),K(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(t.adler=w(t.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(K(f,0),K(f,0),K(f,0),K(f,0),K(f,0),K(f,f.level===9?2:2<=f.strategy||f.level<2?4:0),K(f,3),f.status=L);else{var F=m+(f.w_bits-8<<4)<<8;F|=(2<=f.strategy||f.level<2?0:f.level<6?1:f.level===6?2:3)<<6,f.strstart!==0&&(F|=32),F+=31-F%31,f.status=L,X(f,F),f.strstart!==0&&(X(f,t.adler>>>16),X(f,65535&t.adler)),t.adler=1}if(f.status===69)if(f.gzhead.extra){for(c=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),I(t),c=f.pending,f.pending!==f.pending_buf_size));)K(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(f.status===73)if(f.gzhead.name){c=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),I(t),c=f.pending,f.pending===f.pending_buf_size)){S=1;break}S=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,K(f,S)}while(S!==0);f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),S===0&&(f.gzindex=0,f.status=91)}else f.status=91;if(f.status===91)if(f.gzhead.comment){c=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),I(t),c=f.pending,f.pending===f.pending_buf_size)){S=1;break}S=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,K(f,S)}while(S!==0);f.gzhead.hcrc&&f.pending>c&&(t.adler=w(t.adler,f.pending_buf,f.pending-c,c)),S===0&&(f.status=103)}else f.status=103;if(f.status===103&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&I(t),f.pending+2<=f.pending_buf_size&&(K(f,255&t.adler),K(f,t.adler>>8&255),t.adler=0,f.status=L)):f.status=L),f.pending!==0){if(I(t),t.avail_out===0)return f.last_flush=-1,n}else if(t.avail_in===0&&M(R)<=M(T)&&R!==_)return tt(t,-5);if(f.status===666&&t.avail_in!==0)return tt(t,-5);if(t.avail_in!==0||f.lookahead!==0||R!==v&&f.status!==666){var U=f.strategy===2?(function(C,Z){for(var V;;){if(C.lookahead===0&&(at(C),C.lookahead===0)){if(Z===v)return e;break}if(C.match_length=0,V=i._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,V&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,Z===_?(A(C,!0),C.strm.avail_out===0?Q:j):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:D})(f,R):f.strategy===3?(function(C,Z){for(var V,Y,q,st,it=C.window;;){if(C.lookahead<=H){if(at(C),C.lookahead<=H&&Z===v)return e;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=O&&0<C.strstart&&(Y=it[q=C.strstart-1])===it[++q]&&Y===it[++q]&&Y===it[++q]){st=C.strstart+H;do;while(Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&Y===it[++q]&&q<st);C.match_length=H-(st-q),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=O?(V=i._tr_tally(C,1,C.match_length-O),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(V=i._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),V&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,Z===_?(A(C,!0),C.strm.avail_out===0?Q:j):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:D})(f,R):a[f.level].func(f,R);if(U!==Q&&U!==j||(f.status=666),U===e||U===Q)return t.avail_out===0&&(f.last_flush=-1),n;if(U===D&&(R===1?i._tr_align(f):R!==5&&(i._tr_stored_block(f,0,0,!1),R===3&&($(f.head),f.lookahead===0&&(f.strstart=0,f.block_start=0,f.insert=0))),I(t),t.avail_out===0))return f.last_flush=-1,n}return R!==_?n:f.wrap<=0?1:(f.wrap===2?(K(f,255&t.adler),K(f,t.adler>>8&255),K(f,t.adler>>16&255),K(f,t.adler>>24&255),K(f,255&t.total_in),K(f,t.total_in>>8&255),K(f,t.total_in>>16&255),K(f,t.total_in>>24&255)):(X(f,t.adler>>>16),X(f,65535&t.adler)),I(t),0<f.wrap&&(f.wrap=-f.wrap),f.pending!==0?n:1)},d.deflateEnd=function(t){var R;return t&&t.state?(R=t.state.status)!==y&&R!==69&&R!==73&&R!==91&&R!==103&&R!==L&&R!==666?tt(t,p):(t.state=null,R===L?tt(t,-3):n):p},d.deflateSetDictionary=function(t,R){var T,f,c,S,F,U,C,Z,V=R.length;if(!t||!t.state||(S=(T=t.state).wrap)===2||S===1&&T.status!==y||T.lookahead)return p;for(S===1&&(t.adler=h(t.adler,R,V,0)),T.wrap=0,V>=T.w_size&&(S===0&&($(T.head),T.strstart=0,T.block_start=0,T.insert=0),Z=new s.Buf8(T.w_size),s.arraySet(Z,R,V-T.w_size,T.w_size,0),R=Z,V=T.w_size),F=t.avail_in,U=t.next_in,C=t.input,t.avail_in=V,t.next_in=0,t.input=R,at(T);T.lookahead>=O;){for(f=T.strstart,c=T.lookahead-(O-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[f+O-1])&T.hash_mask,T.prev[f&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=f,f++,--c;);T.strstart=f,T.lookahead=O-1,at(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=O-1,T.match_available=0,t.next_in=U,t.input=C,t.avail_in=F,T.wrap=S,n},d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,x,d){x.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,x,d){x.exports=function(a,s){var i,h,w,b,v,_,n,p,r,u,o,m,k,z,E,N,B,W,O,H,J,y,L,e,D;i=a.state,h=a.next_in,e=a.input,w=h+(a.avail_in-5),b=a.next_out,D=a.output,v=b-(s-a.avail_out),_=b+(a.avail_out-257),n=i.dmax,p=i.wsize,r=i.whave,u=i.wnext,o=i.window,m=i.hold,k=i.bits,z=i.lencode,E=i.distcode,N=(1<<i.lenbits)-1,B=(1<<i.distbits)-1;t:do{k<15&&(m+=e[h++]<<k,k+=8,m+=e[h++]<<k,k+=8),W=z[m&N];e:for(;;){if(m>>>=O=W>>>24,k-=O,(O=W>>>16&255)===0)D[b++]=65535&W;else{if(!(16&O)){if((64&O)==0){W=z[(65535&W)+(m&(1<<O)-1)];continue e}if(32&O){i.mode=12;break t}a.msg="invalid literal/length code",i.mode=30;break t}H=65535&W,(O&=15)&&(k<O&&(m+=e[h++]<<k,k+=8),H+=m&(1<<O)-1,m>>>=O,k-=O),k<15&&(m+=e[h++]<<k,k+=8,m+=e[h++]<<k,k+=8),W=E[m&B];i:for(;;){if(m>>>=O=W>>>24,k-=O,!(16&(O=W>>>16&255))){if((64&O)==0){W=E[(65535&W)+(m&(1<<O)-1)];continue i}a.msg="invalid distance code",i.mode=30;break t}if(J=65535&W,k<(O&=15)&&(m+=e[h++]<<k,(k+=8)<O&&(m+=e[h++]<<k,k+=8)),n<(J+=m&(1<<O)-1)){a.msg="invalid distance too far back",i.mode=30;break t}if(m>>>=O,k-=O,(O=b-v)<J){if(r<(O=J-O)&&i.sane){a.msg="invalid distance too far back",i.mode=30;break t}if(L=o,(y=0)===u){if(y+=p-O,O<H){for(H-=O;D[b++]=o[y++],--O;);y=b-J,L=D}}else if(u<O){if(y+=p+u-O,(O-=u)<H){for(H-=O;D[b++]=o[y++],--O;);if(y=0,u<H){for(H-=O=u;D[b++]=o[y++],--O;);y=b-J,L=D}}}else if(y+=u-O,O<H){for(H-=O;D[b++]=o[y++],--O;);y=b-J,L=D}for(;2<H;)D[b++]=L[y++],D[b++]=L[y++],D[b++]=L[y++],H-=3;H&&(D[b++]=L[y++],1<H&&(D[b++]=L[y++]))}else{for(y=b-J;D[b++]=D[y++],D[b++]=D[y++],D[b++]=D[y++],2<(H-=3););H&&(D[b++]=D[y++],1<H&&(D[b++]=D[y++]))}break}}break}}while(h<w&&b<_);h-=H=k>>3,m&=(1<<(k-=H<<3))-1,a.next_in=h,a.next_out=b,a.avail_in=h<w?w-h+5:5-(h-w),a.avail_out=b<_?_-b+257:257-(b-_),i.hold=m,i.bits=k}},{}],49:[function(l,x,d){var a=l("../utils/common"),s=l("./adler32"),i=l("./crc32"),h=l("./inffast"),w=l("./inftrees"),b=1,v=2,_=0,n=-2,p=1,r=852,u=592;function o(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(y){var L;return y&&y.state?(L=y.state,y.total_in=y.total_out=L.total=0,y.msg="",L.wrap&&(y.adler=1&L.wrap),L.mode=p,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(r),L.distcode=L.distdyn=new a.Buf32(u),L.sane=1,L.back=-1,_):n}function z(y){var L;return y&&y.state?((L=y.state).wsize=0,L.whave=0,L.wnext=0,k(y)):n}function E(y,L){var e,D;return y&&y.state?(D=y.state,L<0?(e=0,L=-L):(e=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?n:(D.window!==null&&D.wbits!==L&&(D.window=null),D.wrap=e,D.wbits=L,z(y))):n}function N(y,L){var e,D;return y?(D=new m,(y.state=D).window=null,(e=E(y,L))!==_&&(y.state=null),e):n}var B,W,O=!0;function H(y){if(O){var L;for(B=new a.Buf32(512),W=new a.Buf32(32),L=0;L<144;)y.lens[L++]=8;for(;L<256;)y.lens[L++]=9;for(;L<280;)y.lens[L++]=7;for(;L<288;)y.lens[L++]=8;for(w(b,y.lens,0,288,B,0,y.work,{bits:9}),L=0;L<32;)y.lens[L++]=5;w(v,y.lens,0,32,W,0,y.work,{bits:5}),O=!1}y.lencode=B,y.lenbits=9,y.distcode=W,y.distbits=5}function J(y,L,e,D){var Q,j=y.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new a.Buf8(j.wsize)),D>=j.wsize?(a.arraySet(j.window,L,e-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(D<(Q=j.wsize-j.wnext)&&(Q=D),a.arraySet(j.window,L,e-D,Q,j.wnext),(D-=Q)?(a.arraySet(j.window,L,e-D,D,0),j.wnext=D,j.whave=j.wsize):(j.wnext+=Q,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Q))),0}d.inflateReset=z,d.inflateReset2=E,d.inflateResetKeep=k,d.inflateInit=function(y){return N(y,15)},d.inflateInit2=N,d.inflate=function(y,L){var e,D,Q,j,tt,M,$,I,A,K,X,G,at,ct,et,rt,ht,ot,ft,dt,t,R,T,f,c=0,S=new a.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return n;(e=y.state).mode===12&&(e.mode=13),tt=y.next_out,Q=y.output,$=y.avail_out,j=y.next_in,D=y.input,M=y.avail_in,I=e.hold,A=e.bits,K=M,X=$,R=_;t:for(;;)switch(e.mode){case p:if(e.wrap===0){e.mode=13;break}for(;A<16;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(2&e.wrap&&I===35615){S[e.check=0]=255&I,S[1]=I>>>8&255,e.check=i(e.check,S,2,0),A=I=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&I)<<8)+(I>>8))%31){y.msg="incorrect header check",e.mode=30;break}if((15&I)!=8){y.msg="unknown compression method",e.mode=30;break}if(A-=4,t=8+(15&(I>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){y.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,y.adler=e.check=1,e.mode=512&I?10:12,A=I=0;break;case 2:for(;A<16;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(e.flags=I,(255&e.flags)!=8){y.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){y.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=I>>8&1),512&e.flags&&(S[0]=255&I,S[1]=I>>>8&255,e.check=i(e.check,S,2,0)),A=I=0,e.mode=3;case 3:for(;A<32;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.head&&(e.head.time=I),512&e.flags&&(S[0]=255&I,S[1]=I>>>8&255,S[2]=I>>>16&255,S[3]=I>>>24&255,e.check=i(e.check,S,4,0)),A=I=0,e.mode=4;case 4:for(;A<16;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.head&&(e.head.xflags=255&I,e.head.os=I>>8),512&e.flags&&(S[0]=255&I,S[1]=I>>>8&255,e.check=i(e.check,S,2,0)),A=I=0,e.mode=5;case 5:if(1024&e.flags){for(;A<16;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.length=I,e.head&&(e.head.extra_len=I),512&e.flags&&(S[0]=255&I,S[1]=I>>>8&255,e.check=i(e.check,S,2,0)),A=I=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(M<(G=e.length)&&(G=M),G&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),a.arraySet(e.head.extra,D,j,G,t)),512&e.flags&&(e.check=i(e.check,D,G,j)),M-=G,j+=G,e.length-=G),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(M===0)break t;for(G=0;t=D[j+G++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&G<M;);if(512&e.flags&&(e.check=i(e.check,D,G,j)),M-=G,j+=G,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(M===0)break t;for(G=0;t=D[j+G++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&G<M;);if(512&e.flags&&(e.check=i(e.check,D,G,j)),M-=G,j+=G,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;A<16;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(I!==(65535&e.check)){y.msg="header crc mismatch",e.mode=30;break}A=I=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),y.adler=e.check=0,e.mode=12;break;case 10:for(;A<32;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}y.adler=e.check=o(I),A=I=0,e.mode=11;case 11:if(e.havedict===0)return y.next_out=tt,y.avail_out=$,y.next_in=j,y.avail_in=M,e.hold=I,e.bits=A,2;y.adler=e.check=1,e.mode=12;case 12:if(L===5||L===6)break t;case 13:if(e.last){I>>>=7&A,A-=7&A,e.mode=27;break}for(;A<3;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}switch(e.last=1&I,A-=1,3&(I>>>=1)){case 0:e.mode=14;break;case 1:if(H(e),e.mode=20,L!==6)break;I>>>=2,A-=2;break t;case 2:e.mode=17;break;case 3:y.msg="invalid block type",e.mode=30}I>>>=2,A-=2;break;case 14:for(I>>>=7&A,A-=7&A;A<32;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if((65535&I)!=(I>>>16^65535)){y.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&I,A=I=0,e.mode=15,L===6)break t;case 15:e.mode=16;case 16:if(G=e.length){if(M<G&&(G=M),$<G&&(G=$),G===0)break t;a.arraySet(Q,D,j,G,tt),M-=G,j+=G,$-=G,tt+=G,e.length-=G;break}e.mode=12;break;case 17:for(;A<14;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(e.nlen=257+(31&I),I>>>=5,A-=5,e.ndist=1+(31&I),I>>>=5,A-=5,e.ncode=4+(15&I),I>>>=4,A-=4,286<e.nlen||30<e.ndist){y.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;A<3;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.lens[F[e.have++]]=7&I,I>>>=3,A-=3}for(;e.have<19;)e.lens[F[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,T={bits:e.lenbits},R=w(0,e.lens,0,19,e.lencode,0,e.work,T),e.lenbits=T.bits,R){y.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;rt=(c=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,ht=65535&c,!((et=c>>>24)<=A);){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(ht<16)I>>>=et,A-=et,e.lens[e.have++]=ht;else{if(ht===16){for(f=et+2;A<f;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(I>>>=et,A-=et,e.have===0){y.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],G=3+(3&I),I>>>=2,A-=2}else if(ht===17){for(f=et+3;A<f;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}A-=et,t=0,G=3+(7&(I>>>=et)),I>>>=3,A-=3}else{for(f=et+7;A<f;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}A-=et,t=0,G=11+(127&(I>>>=et)),I>>>=7,A-=7}if(e.have+G>e.nlen+e.ndist){y.msg="invalid bit length repeat",e.mode=30;break}for(;G--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){y.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,T={bits:e.lenbits},R=w(b,e.lens,0,e.nlen,e.lencode,0,e.work,T),e.lenbits=T.bits,R){y.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,T={bits:e.distbits},R=w(v,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,T),e.distbits=T.bits,R){y.msg="invalid distances set",e.mode=30;break}if(e.mode=20,L===6)break t;case 20:e.mode=21;case 21:if(6<=M&&258<=$){y.next_out=tt,y.avail_out=$,y.next_in=j,y.avail_in=M,e.hold=I,e.bits=A,h(y,X),tt=y.next_out,Q=y.output,$=y.avail_out,j=y.next_in,D=y.input,M=y.avail_in,I=e.hold,A=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;rt=(c=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,ht=65535&c,!((et=c>>>24)<=A);){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(rt&&(240&rt)==0){for(ot=et,ft=rt,dt=ht;rt=(c=e.lencode[dt+((I&(1<<ot+ft)-1)>>ot)])>>>16&255,ht=65535&c,!(ot+(et=c>>>24)<=A);){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}I>>>=ot,A-=ot,e.back+=ot}if(I>>>=et,A-=et,e.back+=et,e.length=ht,rt===0){e.mode=26;break}if(32&rt){e.back=-1,e.mode=12;break}if(64&rt){y.msg="invalid literal/length code",e.mode=30;break}e.extra=15&rt,e.mode=22;case 22:if(e.extra){for(f=e.extra;A<f;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.length+=I&(1<<e.extra)-1,I>>>=e.extra,A-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;rt=(c=e.distcode[I&(1<<e.distbits)-1])>>>16&255,ht=65535&c,!((et=c>>>24)<=A);){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if((240&rt)==0){for(ot=et,ft=rt,dt=ht;rt=(c=e.distcode[dt+((I&(1<<ot+ft)-1)>>ot)])>>>16&255,ht=65535&c,!(ot+(et=c>>>24)<=A);){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}I>>>=ot,A-=ot,e.back+=ot}if(I>>>=et,A-=et,e.back+=et,64&rt){y.msg="invalid distance code",e.mode=30;break}e.offset=ht,e.extra=15&rt,e.mode=24;case 24:if(e.extra){for(f=e.extra;A<f;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}e.offset+=I&(1<<e.extra)-1,I>>>=e.extra,A-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){y.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if($===0)break t;if(G=X-$,e.offset>G){if((G=e.offset-G)>e.whave&&e.sane){y.msg="invalid distance too far back",e.mode=30;break}at=G>e.wnext?(G-=e.wnext,e.wsize-G):e.wnext-G,G>e.length&&(G=e.length),ct=e.window}else ct=Q,at=tt-e.offset,G=e.length;for($<G&&(G=$),$-=G,e.length-=G;Q[tt++]=ct[at++],--G;);e.length===0&&(e.mode=21);break;case 26:if($===0)break t;Q[tt++]=e.length,$--,e.mode=21;break;case 27:if(e.wrap){for(;A<32;){if(M===0)break t;M--,I|=D[j++]<<A,A+=8}if(X-=$,y.total_out+=X,e.total+=X,X&&(y.adler=e.check=e.flags?i(e.check,Q,X,tt-X):s(e.check,Q,X,tt-X)),X=$,(e.flags?I:o(I))!==e.check){y.msg="incorrect data check",e.mode=30;break}A=I=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;A<32;){if(M===0)break t;M--,I+=D[j++]<<A,A+=8}if(I!==(4294967295&e.total)){y.msg="incorrect length check",e.mode=30;break}A=I=0}e.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;default:return n}return y.next_out=tt,y.avail_out=$,y.next_in=j,y.avail_in=M,e.hold=I,e.bits=A,(e.wsize||X!==y.avail_out&&e.mode<30&&(e.mode<27||L!==4))&&J(y,y.output,y.next_out,X-y.avail_out)?(e.mode=31,-4):(K-=y.avail_in,X-=y.avail_out,y.total_in+=K,y.total_out+=X,e.total+=X,e.wrap&&X&&(y.adler=e.check=e.flags?i(e.check,Q,X,y.next_out-X):s(e.check,Q,X,y.next_out-X)),y.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(K==0&&X===0||L===4)&&R===_&&(R=-5),R)},d.inflateEnd=function(y){if(!y||!y.state)return n;var L=y.state;return L.window&&(L.window=null),y.state=null,_},d.inflateGetHeader=function(y,L){var e;return y&&y.state?(2&(e=y.state).wrap)==0?n:((e.head=L).done=!1,_):n},d.inflateSetDictionary=function(y,L){var e,D=L.length;return y&&y.state?(e=y.state).wrap!==0&&e.mode!==11?n:e.mode===11&&s(1,L,D,0)!==e.check?-3:J(y,L,D,D)?(e.mode=31,-4):(e.havedict=1,_):n},d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,x,d){var a=l("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(b,v,_,n,p,r,u,o){var m,k,z,E,N,B,W,O,H,J=o.bits,y=0,L=0,e=0,D=0,Q=0,j=0,tt=0,M=0,$=0,I=0,A=null,K=0,X=new a.Buf16(16),G=new a.Buf16(16),at=null,ct=0;for(y=0;y<=15;y++)X[y]=0;for(L=0;L<n;L++)X[v[_+L]]++;for(Q=J,D=15;1<=D&&X[D]===0;D--);if(D<Q&&(Q=D),D===0)return p[r++]=20971520,p[r++]=20971520,o.bits=1,0;for(e=1;e<D&&X[e]===0;e++);for(Q<e&&(Q=e),y=M=1;y<=15;y++)if(M<<=1,(M-=X[y])<0)return-1;if(0<M&&(b===0||D!==1))return-1;for(G[1]=0,y=1;y<15;y++)G[y+1]=G[y]+X[y];for(L=0;L<n;L++)v[_+L]!==0&&(u[G[v[_+L]]++]=L);if(B=b===0?(A=at=u,19):b===1?(A=s,K-=257,at=i,ct-=257,256):(A=h,at=w,-1),y=e,N=r,tt=L=I=0,z=-1,E=($=1<<(j=Q))-1,b===1&&852<$||b===2&&592<$)return 1;for(;;){for(W=y-tt,H=u[L]<B?(O=0,u[L]):u[L]>B?(O=at[ct+u[L]],A[K+u[L]]):(O=96,0),m=1<<y-tt,e=k=1<<j;p[N+(I>>tt)+(k-=m)]=W<<24|O<<16|H|0,k!==0;);for(m=1<<y-1;I&m;)m>>=1;if(m!==0?(I&=m-1,I+=m):I=0,L++,--X[y]==0){if(y===D)break;y=v[_+u[L]]}if(Q<y&&(I&E)!==z){for(tt===0&&(tt=Q),N+=e,M=1<<(j=y-tt);j+tt<D&&!((M-=X[j+tt])<=0);)j++,M<<=1;if($+=1<<j,b===1&&852<$||b===2&&592<$)return 1;p[z=I&E]=Q<<24|j<<16|N-r|0}}return I!==0&&(p[N+I]=y-tt<<24|64<<16|0),o.bits=Q,0}},{"../utils/common":41}],51:[function(l,x,d){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,x,d){var a=l("../utils/common"),s=0,i=1;function h(c){for(var S=c.length;0<=--S;)c[S]=0}var w=0,b=29,v=256,_=v+1+b,n=30,p=19,r=2*_+1,u=15,o=16,m=7,k=256,z=16,E=17,N=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(_+2));h(J);var y=new Array(2*n);h(y);var L=new Array(512);h(L);var e=new Array(256);h(e);var D=new Array(b);h(D);var Q,j,tt,M=new Array(n);function $(c,S,F,U,C){this.static_tree=c,this.extra_bits=S,this.extra_base=F,this.elems=U,this.max_length=C,this.has_stree=c&&c.length}function I(c,S){this.dyn_tree=c,this.max_code=0,this.stat_desc=S}function A(c){return c<256?L[c]:L[256+(c>>>7)]}function K(c,S){c.pending_buf[c.pending++]=255&S,c.pending_buf[c.pending++]=S>>>8&255}function X(c,S,F){c.bi_valid>o-F?(c.bi_buf|=S<<c.bi_valid&65535,K(c,c.bi_buf),c.bi_buf=S>>o-c.bi_valid,c.bi_valid+=F-o):(c.bi_buf|=S<<c.bi_valid&65535,c.bi_valid+=F)}function G(c,S,F){X(c,F[2*S],F[2*S+1])}function at(c,S){for(var F=0;F|=1&c,c>>>=1,F<<=1,0<--S;);return F>>>1}function ct(c,S,F){var U,C,Z=new Array(u+1),V=0;for(U=1;U<=u;U++)Z[U]=V=V+F[U-1]<<1;for(C=0;C<=S;C++){var Y=c[2*C+1];Y!==0&&(c[2*C]=at(Z[Y]++,Y))}}function et(c){var S;for(S=0;S<_;S++)c.dyn_ltree[2*S]=0;for(S=0;S<n;S++)c.dyn_dtree[2*S]=0;for(S=0;S<p;S++)c.bl_tree[2*S]=0;c.dyn_ltree[2*k]=1,c.opt_len=c.static_len=0,c.last_lit=c.matches=0}function rt(c){8<c.bi_valid?K(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf),c.bi_buf=0,c.bi_valid=0}function ht(c,S,F,U){var C=2*S,Z=2*F;return c[C]<c[Z]||c[C]===c[Z]&&U[S]<=U[F]}function ot(c,S,F){for(var U=c.heap[F],C=F<<1;C<=c.heap_len&&(C<c.heap_len&&ht(S,c.heap[C+1],c.heap[C],c.depth)&&C++,!ht(S,U,c.heap[C],c.depth));)c.heap[F]=c.heap[C],F=C,C<<=1;c.heap[F]=U}function ft(c,S,F){var U,C,Z,V,Y=0;if(c.last_lit!==0)for(;U=c.pending_buf[c.d_buf+2*Y]<<8|c.pending_buf[c.d_buf+2*Y+1],C=c.pending_buf[c.l_buf+Y],Y++,U===0?G(c,C,S):(G(c,(Z=e[C])+v+1,S),(V=B[Z])!==0&&X(c,C-=D[Z],V),G(c,Z=A(--U),F),(V=W[Z])!==0&&X(c,U-=M[Z],V)),Y<c.last_lit;);G(c,k,S)}function dt(c,S){var F,U,C,Z=S.dyn_tree,V=S.stat_desc.static_tree,Y=S.stat_desc.has_stree,q=S.stat_desc.elems,st=-1;for(c.heap_len=0,c.heap_max=r,F=0;F<q;F++)Z[2*F]!==0?(c.heap[++c.heap_len]=st=F,c.depth[F]=0):Z[2*F+1]=0;for(;c.heap_len<2;)Z[2*(C=c.heap[++c.heap_len]=st<2?++st:0)]=1,c.depth[C]=0,c.opt_len--,Y&&(c.static_len-=V[2*C+1]);for(S.max_code=st,F=c.heap_len>>1;1<=F;F--)ot(c,Z,F);for(C=q;F=c.heap[1],c.heap[1]=c.heap[c.heap_len--],ot(c,Z,1),U=c.heap[1],c.heap[--c.heap_max]=F,c.heap[--c.heap_max]=U,Z[2*C]=Z[2*F]+Z[2*U],c.depth[C]=(c.depth[F]>=c.depth[U]?c.depth[F]:c.depth[U])+1,Z[2*F+1]=Z[2*U+1]=C,c.heap[1]=C++,ot(c,Z,1),2<=c.heap_len;);c.heap[--c.heap_max]=c.heap[1],(function(it,ut){var bt,pt,kt,lt,Et,Tt,mt=ut.dyn_tree,Nt=ut.max_code,Jt=ut.stat_desc.static_tree,$t=ut.stat_desc.has_stree,Qt=ut.stat_desc.extra_bits,Dt=ut.stat_desc.extra_base,St=ut.stat_desc.max_length,zt=0;for(lt=0;lt<=u;lt++)it.bl_count[lt]=0;for(mt[2*it.heap[it.heap_max]+1]=0,bt=it.heap_max+1;bt<r;bt++)St<(lt=mt[2*mt[2*(pt=it.heap[bt])+1]+1]+1)&&(lt=St,zt++),mt[2*pt+1]=lt,Nt<pt||(it.bl_count[lt]++,Et=0,Dt<=pt&&(Et=Qt[pt-Dt]),Tt=mt[2*pt],it.opt_len+=Tt*(lt+Et),$t&&(it.static_len+=Tt*(Jt[2*pt+1]+Et)));if(zt!==0){do{for(lt=St-1;it.bl_count[lt]===0;)lt--;it.bl_count[lt]--,it.bl_count[lt+1]+=2,it.bl_count[St]--,zt-=2}while(0<zt);for(lt=St;lt!==0;lt--)for(pt=it.bl_count[lt];pt!==0;)Nt<(kt=it.heap[--bt])||(mt[2*kt+1]!==lt&&(it.opt_len+=(lt-mt[2*kt+1])*mt[2*kt],mt[2*kt+1]=lt),pt--)}})(c,S),ct(Z,st,c.bl_count)}function t(c,S,F){var U,C,Z=-1,V=S[1],Y=0,q=7,st=4;for(V===0&&(q=138,st=3),S[2*(F+1)+1]=65535,U=0;U<=F;U++)C=V,V=S[2*(U+1)+1],++Y<q&&C===V||(Y<st?c.bl_tree[2*C]+=Y:C!==0?(C!==Z&&c.bl_tree[2*C]++,c.bl_tree[2*z]++):Y<=10?c.bl_tree[2*E]++:c.bl_tree[2*N]++,Z=C,st=(Y=0)===V?(q=138,3):C===V?(q=6,3):(q=7,4))}function R(c,S,F){var U,C,Z=-1,V=S[1],Y=0,q=7,st=4;for(V===0&&(q=138,st=3),U=0;U<=F;U++)if(C=V,V=S[2*(U+1)+1],!(++Y<q&&C===V)){if(Y<st)for(;G(c,C,c.bl_tree),--Y!=0;);else C!==0?(C!==Z&&(G(c,C,c.bl_tree),Y--),G(c,z,c.bl_tree),X(c,Y-3,2)):Y<=10?(G(c,E,c.bl_tree),X(c,Y-3,3)):(G(c,N,c.bl_tree),X(c,Y-11,7));Z=C,st=(Y=0)===V?(q=138,3):C===V?(q=6,3):(q=7,4)}}h(M);var T=!1;function f(c,S,F,U){X(c,(w<<1)+(U?1:0),3),(function(C,Z,V,Y){rt(C),K(C,V),K(C,~V),a.arraySet(C.pending_buf,C.window,Z,V,C.pending),C.pending+=V})(c,S,F)}d._tr_init=function(c){T||((function(){var S,F,U,C,Z,V=new Array(u+1);for(C=U=0;C<b-1;C++)for(D[C]=U,S=0;S<1<<B[C];S++)e[U++]=C;for(e[U-1]=C,C=Z=0;C<16;C++)for(M[C]=Z,S=0;S<1<<W[C];S++)L[Z++]=C;for(Z>>=7;C<n;C++)for(M[C]=Z<<7,S=0;S<1<<W[C]-7;S++)L[256+Z++]=C;for(F=0;F<=u;F++)V[F]=0;for(S=0;S<=143;)J[2*S+1]=8,S++,V[8]++;for(;S<=255;)J[2*S+1]=9,S++,V[9]++;for(;S<=279;)J[2*S+1]=7,S++,V[7]++;for(;S<=287;)J[2*S+1]=8,S++,V[8]++;for(ct(J,_+1,V),S=0;S<n;S++)y[2*S+1]=5,y[2*S]=at(S,5);Q=new $(J,B,v+1,_,u),j=new $(y,W,0,n,u),tt=new $(new Array(0),O,0,p,m)})(),T=!0),c.l_desc=new I(c.dyn_ltree,Q),c.d_desc=new I(c.dyn_dtree,j),c.bl_desc=new I(c.bl_tree,tt),c.bi_buf=0,c.bi_valid=0,et(c)},d._tr_stored_block=f,d._tr_flush_block=function(c,S,F,U){var C,Z,V=0;0<c.level?(c.strm.data_type===2&&(c.strm.data_type=(function(Y){var q,st=4093624447;for(q=0;q<=31;q++,st>>>=1)if(1&st&&Y.dyn_ltree[2*q]!==0)return s;if(Y.dyn_ltree[18]!==0||Y.dyn_ltree[20]!==0||Y.dyn_ltree[26]!==0)return i;for(q=32;q<v;q++)if(Y.dyn_ltree[2*q]!==0)return i;return s})(c)),dt(c,c.l_desc),dt(c,c.d_desc),V=(function(Y){var q;for(t(Y,Y.dyn_ltree,Y.l_desc.max_code),t(Y,Y.dyn_dtree,Y.d_desc.max_code),dt(Y,Y.bl_desc),q=p-1;3<=q&&Y.bl_tree[2*H[q]+1]===0;q--);return Y.opt_len+=3*(q+1)+5+5+4,q})(c),C=c.opt_len+3+7>>>3,(Z=c.static_len+3+7>>>3)<=C&&(C=Z)):C=Z=F+5,F+4<=C&&S!==-1?f(c,S,F,U):c.strategy===4||Z===C?(X(c,2+(U?1:0),3),ft(c,J,y)):(X(c,4+(U?1:0),3),(function(Y,q,st,it){var ut;for(X(Y,q-257,5),X(Y,st-1,5),X(Y,it-4,4),ut=0;ut<it;ut++)X(Y,Y.bl_tree[2*H[ut]+1],3);R(Y,Y.dyn_ltree,q-1),R(Y,Y.dyn_dtree,st-1)})(c,c.l_desc.max_code+1,c.d_desc.max_code+1,V+1),ft(c,c.dyn_ltree,c.dyn_dtree)),et(c),U&&rt(c)},d._tr_tally=function(c,S,F){return c.pending_buf[c.d_buf+2*c.last_lit]=S>>>8&255,c.pending_buf[c.d_buf+2*c.last_lit+1]=255&S,c.pending_buf[c.l_buf+c.last_lit]=255&F,c.last_lit++,S===0?c.dyn_ltree[2*F]++:(c.matches++,S--,c.dyn_ltree[2*(e[F]+v+1)]++,c.dyn_dtree[2*A(S)]++),c.last_lit===c.lit_bufsize-1},d._tr_align=function(c){X(c,2,3),G(c,k,J),(function(S){S.bi_valid===16?(K(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)})(c)}},{"../utils/common":41}],53:[function(l,x,d){x.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,x,d){(function(a){(function(s,i){if(!s.setImmediate){var h,w,b,v,_=1,n={},p=!1,r=s.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(s);u=u&&u.setTimeout?u:s,h={}.toString.call(s.process)==="[object process]"?function(z){process.nextTick(function(){m(z)})}:(function(){if(s.postMessage&&!s.importScripts){var z=!0,E=s.onmessage;return s.onmessage=function(){z=!1},s.postMessage("","*"),s.onmessage=E,z}})()?(v="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(z){s.postMessage(v+z,"*")}):s.MessageChannel?((b=new MessageChannel).port1.onmessage=function(z){m(z.data)},function(z){b.port2.postMessage(z)}):r&&"onreadystatechange"in r.createElement("script")?(w=r.documentElement,function(z){var E=r.createElement("script");E.onreadystatechange=function(){m(z),E.onreadystatechange=null,w.removeChild(E),E=null},w.appendChild(E)}):function(z){setTimeout(m,0,z)},u.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var E=new Array(arguments.length-1),N=0;N<E.length;N++)E[N]=arguments[N+1];var B={callback:z,args:E};return n[_]=B,h(_),_++},u.clearImmediate=o}function o(z){delete n[z]}function m(z){if(p)setTimeout(m,0,z);else{var E=n[z];if(E){p=!0;try{(function(N){var B=N.callback,W=N.args;switch(W.length){case 0:B();break;case 1:B(W[0]);break;case 2:B(W[0],W[1]);break;case 3:B(W[0],W[1],W[2]);break;default:B.apply(i,W)}})(E)}finally{o(z),p=!1}}}}function k(z){z.source===s&&typeof z.data=="string"&&z.data.indexOf(v)===0&&m(+z.data.slice(v.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ct<"u"?Ct:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Bt)),Bt.exports}var de=ue();const fe=ce(de);async function Xt(g){if(!g.name.toLowerCase().endsWith(".cbz")&&!g.name.toLowerCase().endsWith(".zip")){alert("Please select a valid .cbz or .zip file.");return}me(),Ft.classList.add("hidden"),Ot("Reading file..."),nt.currentFile=g.name;try{const P=new fe,l=await P.loadAsync(g),x=[],d=/\.(png|jpg|jpeg|gif|webp)$/i;if(Ot("Sorting pages..."),P.forEach((a,s)=>{!s.dir&&d.test(s.name)&&!s.name.startsWith("__MACOSX")&&x.push(s)}),x.length===0)throw new Error("No images found in this archive.");x.sort((a,s)=>a.name.localeCompare(s.name,void 0,{numeric:!0,sensitivity:"base"})),Lt.textContent=`${x.length} Pages`,nt.pageNames=x.map(a=>a.name),ae(x.length),Ot("Rendering..."),await pe(x)}catch(P){console.error(P),alert("Error reading file: "+P.message),Ft.classList.remove("hidden"),Lt.textContent=""}finally{se()}}async function pe(g){const P=document.createDocumentFragment();for(let l=0;l<g.length;l++){const d=await g[l].async("blob"),a=URL.createObjectURL(d);nt.imageUrls.push(a);const s=document.createElement("img");s.src=a,s.loading="lazy",s.style.maxWidth=nt.widthMode,s.style.width=nt.widthMode==="100%"?"100%":"auto",s.style.marginBottom=nt.gapless?"0px":"20px",P.appendChild(s)}yt.appendChild(P),vt.focus()}function me(){nt.imageUrls.forEach(g=>URL.revokeObjectURL(g)),nt.imageUrls=[],nt.pageNames=[],nt.currentPage=0,yt.innerHTML="",vt.scrollTo(0,0),It.innerHTML=""}var ge="1.3.17";function Vt(g,P,l){return Math.max(g,Math.min(P,l))}function _e(g,P,l){return(1-l)*g+l*P}function ve(g,P,l,x){return _e(g,P,1-Math.exp(-l*x))}function we(g,P){return(g%P+P)%P}var ye=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(g){if(!this.isRunning)return;let P=!1;if(this.duration&&this.easing){this.currentTime+=g;const l=Vt(0,this.currentTime/this.duration,1);P=l>=1;const x=P?1:this.easing(l);this.value=this.from+(this.to-this.from)*x}else this.lerp?(this.value=ve(this.value,this.to,this.lerp*60,g),Math.round(this.value)===this.to&&(this.value=this.to,P=!0)):(this.value=this.to,P=!0);P&&this.stop(),this.onUpdate?.(this.value,P)}stop(){this.isRunning=!1}fromTo(g,P,{lerp:l,duration:x,easing:d,onStart:a,onUpdate:s}){this.from=this.value=g,this.to=P,this.lerp=l,this.duration=x,this.easing=d,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=s}};function be(g,P){let l;return function(...x){let d=this;clearTimeout(l),l=setTimeout(()=>{l=void 0,g.apply(d,x)},P)}}var ke=class{constructor(g,P,{autoResize:l=!0,debounce:x=250}={}){this.wrapper=g,this.content=P,l&&(this.debouncedResize=be(this.resize,x),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},qt=class{events={};emit(g,...P){let l=this.events[g]||[];for(let x=0,d=l.length;x<d;x++)l[x]?.(...P)}on(g,P){return this.events[g]?.push(P)||(this.events[g]=[P]),()=>{this.events[g]=this.events[g]?.filter(l=>P!==l)}}off(g,P){this.events[g]=this.events[g]?.filter(l=>P!==l)}destroy(){this.events={}}},Wt=100/6,gt={passive:!1},Se=class{constructor(g,P={wheelMultiplier:1,touchMultiplier:1}){this.element=g,this.options=P,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,gt),this.element.addEventListener("touchstart",this.onTouchStart,gt),this.element.addEventListener("touchmove",this.onTouchMove,gt),this.element.addEventListener("touchend",this.onTouchEnd,gt)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new qt;on(g,P){return this.emitter.on(g,P)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,gt),this.element.removeEventListener("touchstart",this.onTouchStart,gt),this.element.removeEventListener("touchmove",this.onTouchMove,gt),this.element.removeEventListener("touchend",this.onTouchEnd,gt)}onTouchStart=g=>{const{clientX:P,clientY:l}=g.targetTouches?g.targetTouches[0]:g;this.touchStart.x=P,this.touchStart.y=l,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:g})};onTouchMove=g=>{const{clientX:P,clientY:l}=g.targetTouches?g.targetTouches[0]:g,x=-(P-this.touchStart.x)*this.options.touchMultiplier,d=-(l-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=P,this.touchStart.y=l,this.lastDelta={x,y:d},this.emitter.emit("scroll",{deltaX:x,deltaY:d,event:g})};onTouchEnd=g=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:g})};onWheel=g=>{let{deltaX:P,deltaY:l,deltaMode:x}=g;const d=x===1?Wt:x===2?this.window.width:1,a=x===1?Wt:x===2?this.window.height:1;P*=d,l*=a,P*=this.options.wheelMultiplier,l*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:P,deltaY:l,event:g})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},jt=g=>Math.min(1,1.001-Math.pow(2,-10*g)),xe=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;_rafId=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new ye;emitter=new qt;dimensions;virtualScroll;constructor({wrapper:g=window,content:P=document.documentElement,eventsTarget:l=g,smoothWheel:x=!0,syncTouch:d=!1,syncTouchLerp:a=.075,touchInertiaExponent:s=1.7,duration:i,easing:h,lerp:w=.1,infinite:b=!1,orientation:v="vertical",gestureOrientation:_=v==="horizontal"?"both":"vertical",touchMultiplier:n=1,wheelMultiplier:p=1,autoResize:r=!0,prevent:u,virtualScroll:o,overscroll:m=!0,autoRaf:k=!1,anchors:z=!1,autoToggle:E=!1,allowNestedScroll:N=!1,__experimental__naiveDimensions:B=!1,naiveDimensions:W=B,stopInertiaOnNavigate:O=!1}={}){window.lenisVersion=ge,(!g||g===document.documentElement)&&(g=window),typeof i=="number"&&typeof h!="function"?h=jt:typeof h=="function"&&typeof i!="number"&&(i=1),this.options={wrapper:g,content:P,eventsTarget:l,smoothWheel:x,syncTouch:d,syncTouchLerp:a,touchInertiaExponent:s,duration:i,easing:h,lerp:w,infinite:b,gestureOrientation:_,orientation:v,touchMultiplier:n,wheelMultiplier:p,autoResize:r,prevent:u,virtualScroll:o,overscroll:m,autoRaf:k,anchors:z,autoToggle:E,allowNestedScroll:N,naiveDimensions:W,stopInertiaOnNavigate:O},this.dimensions=new ke(g,P,{autoResize:r}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Se(l,{touchMultiplier:n,wheelMultiplier:p}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(g,P){return this.emitter.on(g,P)}off(g,P){return this.emitter.off(g,P)}onScrollEnd=g=>{g instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&g.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};get overflow(){const g=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[g]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}onTransitionEnd=g=>{g.propertyName.includes("overflow")&&this.checkOverflow()};setScroll(g){this.isHorizontal?this.options.wrapper.scrollTo({left:g,behavior:"instant"}):this.options.wrapper.scrollTo({top:g,behavior:"instant"})}onClick=g=>{const l=g.composedPath().filter(x=>x instanceof HTMLAnchorElement&&x.getAttribute("href"));if(this.options.anchors){const x=l.find(d=>d.getAttribute("href")?.includes("#"));if(x){const d=x.getAttribute("href");if(d){const a=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,s=`#${d.split("#")[1]}`;this.scrollTo(s,a)}}}this.options.stopInertiaOnNavigate&&l.find(d=>d.host===window.location.host)&&this.reset()};onPointerDown=g=>{g.button===1&&this.reset()};onVirtualScroll=g=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(g)===!1)return;const{deltaX:P,deltaY:l,event:x}=g;if(this.emitter.emit("virtual-scroll",{deltaX:P,deltaY:l,event:x}),x.ctrlKey||x.lenisStopPropagation)return;const d=x.type.includes("touch"),a=x.type.includes("wheel");this.isTouching=x.type==="touchstart"||x.type==="touchmove";const s=P===0&&l===0;if(this.options.syncTouch&&d&&x.type==="touchstart"&&s&&!this.isStopped&&!this.isLocked){this.reset();return}const h=this.options.gestureOrientation==="vertical"&&l===0||this.options.gestureOrientation==="horizontal"&&P===0;if(s||h)return;let w=x.composedPath();w=w.slice(0,w.indexOf(this.rootElement));const b=this.options.prevent;if(w.find(u=>u instanceof HTMLElement&&(typeof b=="function"&&b?.(u)||u.hasAttribute?.("data-lenis-prevent")||d&&u.hasAttribute?.("data-lenis-prevent-touch")||a&&u.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(u,{deltaX:P,deltaY:l}))))return;if(this.isStopped||this.isLocked){x.cancelable&&x.preventDefault();return}if(!(this.options.syncTouch&&d||this.options.smoothWheel&&a)){this.isScrolling="native",this.animate.stop(),x.lenisStopPropagation=!0;return}let _=l;this.options.gestureOrientation==="both"?_=Math.abs(l)>Math.abs(P)?l:P:this.options.gestureOrientation==="horizontal"&&(_=P),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&l>0||this.animatedScroll===this.limit&&l<0))&&(x.lenisStopPropagation=!0),x.cancelable&&x.preventDefault();const n=d&&this.options.syncTouch,r=d&&x.type==="touchend";r&&(_=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+_,{programmatic:!1,...n?{lerp:r?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const g=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-g,this.direction=Math.sign(this.animatedScroll-g),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=g=>{const P=g-(this.time||g);this.time=g,this.animate.advance(P*.001),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))};scrollTo(g,{offset:P=0,immediate:l=!1,lock:x=!1,programmatic:d=!0,lerp:a=d?this.options.lerp:void 0,duration:s=d?this.options.duration:void 0,easing:i=d?this.options.easing:void 0,onStart:h,onComplete:w,force:b=!1,userData:v}={}){if(!((this.isStopped||this.isLocked)&&!b)){if(typeof g=="string"&&["top","left","start","#"].includes(g))g=0;else if(typeof g=="string"&&["bottom","right","end"].includes(g))g=this.limit;else{let _;if(typeof g=="string"?(_=document.querySelector(g),_||(g==="#top"?g=0:console.warn("Lenis: Target not found",g))):g instanceof HTMLElement&&g?.nodeType&&(_=g),_){if(this.options.wrapper!==window){const p=this.rootElement.getBoundingClientRect();P-=this.isHorizontal?p.left:p.top}const n=_.getBoundingClientRect();g=(this.isHorizontal?n.left:n.top)+this.animatedScroll}}if(typeof g=="number"){if(g+=P,g=Math.round(g),this.options.infinite){if(d){this.targetScroll=this.animatedScroll=this.scroll;const _=g-this.animatedScroll;_>this.limit/2?g=g-this.limit:_<-this.limit/2&&(g=g+this.limit)}}else g=Vt(0,g,this.limit);if(g===this.targetScroll){h?.(this),w?.(this);return}if(this.userData=v??{},l){this.animatedScroll=this.targetScroll=g,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),w?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}d||(this.targetScroll=g),typeof s=="number"&&typeof i!="function"?i=jt:typeof i=="function"&&typeof s!="number"&&(s=1),this.animate.fromTo(this.animatedScroll,g,{duration:s,easing:i,lerp:a,onStart:()=>{x&&(this.isLocked=!0),this.isScrolling="smooth",h?.(this)},onUpdate:(_,n)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=_-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=_,this.setScroll(this.scroll),d&&(this.targetScroll=_),n||this.emit(),n&&(this.reset(),this.emit(),w?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(g,{deltaX:P,deltaY:l}){const x=Date.now(),d=g._lenis??={};let a,s,i,h,w,b,v,_;const n=this.options.gestureOrientation;if(x-(d.time??0)>2e3){d.time=Date.now();const E=window.getComputedStyle(g);d.computedStyle=E;const N=E.overflowX,B=E.overflowY;if(a=["auto","overlay","scroll"].includes(N),s=["auto","overlay","scroll"].includes(B),d.hasOverflowX=a,d.hasOverflowY=s,!a&&!s||n==="vertical"&&!s||n==="horizontal"&&!a)return!1;w=g.scrollWidth,b=g.scrollHeight,v=g.clientWidth,_=g.clientHeight,i=w>v,h=b>_,d.isScrollableX=i,d.isScrollableY=h,d.scrollWidth=w,d.scrollHeight=b,d.clientWidth=v,d.clientHeight=_}else i=d.isScrollableX,h=d.isScrollableY,a=d.hasOverflowX,s=d.hasOverflowY,w=d.scrollWidth,b=d.scrollHeight,v=d.clientWidth,_=d.clientHeight;if(!a&&!s||!i&&!h||n==="vertical"&&(!s||!h)||n==="horizontal"&&(!a||!i))return!1;let p;if(n==="horizontal")p="x";else if(n==="vertical")p="y";else{const E=P!==0,N=l!==0;E&&a&&i&&(p="x"),N&&s&&h&&(p="y")}if(!p)return!1;let r,u,o,m,k;if(p==="x")r=g.scrollLeft,u=w-v,o=P,m=a,k=i;else if(p==="y")r=g.scrollTop,u=b-_,o=l,m=s,k=h;else return!1;return(o>0?r<u:r>0)&&m&&k}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const g=this.options.wrapper;return this.isHorizontal?g.scrollX??g.scrollLeft:g.scrollY??g.scrollTop}get scroll(){return this.options.infinite?we(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(g){this._isScrolling!==g&&(this._isScrolling=g,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(g){this._isStopped!==g&&(this._isStopped=g,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(g){this._isLocked!==g&&(this._isLocked=g,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let g="lenis";return this.options.autoToggle&&(g+=" lenis-autoToggle"),this.isStopped&&(g+=" lenis-stopped"),this.isLocked&&(g+=" lenis-locked"),this.isScrolling&&(g+=" lenis-scrolling"),this.isScrolling==="smooth"&&(g+=" lenis-smooth"),g}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const _t=new xe({wrapper:vt,content:vt.firstElementChild,lerp:.1,duration:1.2});function Kt(g){_t.raf(g),requestAnimationFrame(Kt)}requestAnimationFrame(Kt);_t.on("scroll",({scroll:g})=>{g>500?Rt.classList.add("visible"):Rt.classList.remove("visible"),nt.pageNames.length>0&&le()});document.addEventListener("keydown",g=>{g.key==="ArrowDown"||g.key==="j"?(g.preventDefault(),_t.scrollTo(_t.scroll+400)):(g.key==="ArrowUp"||g.key==="k")&&(g.preventDefault(),_t.scrollTo(_t.scroll-400))});document.body.addEventListener("dragover",g=>{g.preventDefault(),document.body.classList.add("dragging")});document.body.addEventListener("dragleave",g=>{g.preventDefault(),g.target===document.body&&document.body.classList.remove("dragging")});document.body.addEventListener("drop",g=>{g.preventDefault(),document.body.classList.remove("dragging"),g.dataTransfer.files.length&&Xt(g.dataTransfer.files[0])});te.addEventListener("change",g=>{g.target.files.length&&Xt(g.target.files[0])});Zt.addEventListener("click",g=>{g.stopPropagation(),wt.classList.toggle("open"),xt.classList.remove("open")});Ht.addEventListener("click",g=>{g.stopPropagation(),xt.classList.toggle("open"),wt.classList.remove("open")});document.getElementById("toc-close").addEventListener("click",()=>{wt.classList.remove("open")});vt.addEventListener("click",g=>{g.target.tagName!=="BUTTON"&&g.target.tagName!=="IMG"&&g.target.closest("header")===null&&ne()});document.addEventListener("click",g=>{const P=wt.contains(g.target)||Zt.contains(g.target),l=xt.contains(g.target)||Ht.contains(g.target);P||wt.classList.remove("open"),l||xt.classList.remove("open")});Rt.addEventListener("click",()=>{_t.scrollTo(0)});document.getElementById("btn-fit-width").addEventListener("click",()=>Gt("100%"));document.getElementById("btn-fit-original").addEventListener("click",()=>Gt("auto"));document.getElementById("btn-gapless").addEventListener("click",he);document.getElementById("btn-theme").addEventListener("click",re);Yt();
//# sourceMappingURL=index-BGBubC2M.js.map
